{"version":3,"file":"index.js","sources":["../../sdk/dist/index.js","../src/createHOCs.tsx","../src/SDKProvider/SDKContext.ts","../src/createHooks.ts","../src/hooks-hocs/back-button.ts","../src/hooks-hocs/biometry-manager.ts","../src/hooks-hocs/closing-behavior.ts","../src/hooks-hocs/cloud-storage.ts","../src/hooks-hocs/haptic-feedback.ts","../src/hooks-hocs/init-data.ts","../src/hooks-hocs/invoice.ts","../src/hooks-hocs/main-button.ts","../src/hooks-hocs/mini-app.ts","../src/hooks-hocs/popup.ts","../src/hooks-hocs/qr-scanner.ts","../src/hooks-hocs/settings-button.ts","../src/hooks-hocs/swipe-behavior.ts","../src/hooks-hocs/theme-params.ts","../src/hooks-hocs/launch-params.ts","../src/hooks-hocs/utils.ts","../src/hooks-hocs/viewport.ts","../src/SDKProvider/SDKProvider.tsx"],"sourcesContent":["var We = Object.defineProperty;\nvar Ue = (s, e, t) => e in s ? We(s, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : s[e] = t;\nvar c = (s, e, t) => (Ue(s, typeof e != \"symbol\" ? e + \"\" : e, t), t);\nfunction oe(s, e) {\n  let t;\n  const n = () => {\n    t !== void 0 && e && e(t), t = void 0;\n  };\n  return [() => t === void 0 ? t = s(n) : t, n];\n}\nfunction ae(s) {\n  const e = M(), { count: t } = e;\n  e.unsubscribe(s), t && !e.count && it();\n}\nfunction He(s) {\n  return M().subscribe(s), () => ae(s);\n}\nclass Oe {\n  constructor(e, t = {}) {\n    this.scope = e, this.options = t;\n  }\n  /**\n   * Prints message into a console in case, logger is currently enabled.\n   * @param level - log level.\n   * @param args - arguments.\n   */\n  print(e, ...t) {\n    const n = /* @__PURE__ */ new Date(), r = Intl.DateTimeFormat(\"en-GB\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n      fractionalSecondDigits: 3,\n      timeZone: \"UTC\"\n    }).format(n), { textColor: i, bgColor: o } = this.options, a = \"font-weight: bold;padding: 0 5px;border-radius:5px\";\n    console[e](\n      `%c${r}%c / %c${this.scope}`,\n      `${a};background-color: lightblue;color:black`,\n      \"\",\n      `${a};${i ? `color:${i};` : \"\"}${o ? `background-color:${o}` : \"\"}`,\n      ...t\n    );\n  }\n  /**\n   * Prints error message into a console.\n   * @param args\n   */\n  error(...e) {\n    this.print(\"error\", ...e);\n  }\n  /**\n   * Prints log message into a console.\n   * @param args\n   */\n  log(...e) {\n    this.print(\"log\", ...e);\n  }\n}\nconst F = new Oe(\"SDK\", {\n  bgColor: \"forestgreen\",\n  textColor: \"white\"\n});\nlet O = !1;\nconst se = ({ name: s, payload: e }) => {\n  F.log(\"Event received:\", e ? { name: s, payload: e } : { name: s });\n};\nfunction Kt(s) {\n  O !== s && (O = s, s ? He(se) : ae(se));\n}\nfunction Ge(...s) {\n  O && F.log(...s);\n}\nclass R {\n  constructor() {\n    c(this, \"listeners\", /* @__PURE__ */ new Map());\n    c(this, \"listenersCount\", 0);\n    c(this, \"subscribeListeners\", []);\n  }\n  /**\n   * Removes all event listeners.\n   */\n  clear() {\n    this.listeners.clear(), this.subscribeListeners = [];\n  }\n  /**\n   * Returns count of bound listeners.\n   */\n  get count() {\n    return this.listenersCount + this.subscribeListeners.length;\n  }\n  emit(e, ...t) {\n    this.subscribeListeners.forEach((r) => r({\n      event: e,\n      args: t\n    })), (this.listeners.get(e) || []).forEach(([r, i]) => {\n      r(...t), i && this.off(e, r);\n    });\n  }\n  /**\n   * Adds new event listener.\n   * @param event - event name.\n   * @param listener - event listener.\n   * @param once - should listener be called only once.\n   * @returns Function to remove bound event listener.\n   */\n  on(e, t, n) {\n    let r = this.listeners.get(e);\n    return r || this.listeners.set(e, r = []), r.push([t, n]), this.listenersCount += 1, () => this.off(e, t);\n  }\n  /**\n   * Removes event listener. In case, specified listener was bound several times, it removes\n   * only a single one.\n   * @param event - event name.\n   * @param listener - event listener.\n   */\n  off(e, t) {\n    const n = this.listeners.get(e) || [];\n    for (let r = 0; r < n.length; r += 1)\n      if (t === n[r][0]) {\n        n.splice(r, 1), this.listenersCount -= 1;\n        return;\n      }\n  }\n  /**\n   * Adds a new event listener for all events.\n   * @param listener - event listener.\n   * @returns Function to remove event listener.\n   */\n  subscribe(e) {\n    return this.subscribeListeners.push(e), () => this.unsubscribe(e);\n  }\n  /**\n   * Removes global event listener. In case, specified listener was bound several times, it removes\n   * only a single one.\n   * @param listener - event listener.\n   */\n  unsubscribe(e) {\n    for (let t = 0; t < this.subscribeListeners.length; t += 1)\n      if (this.subscribeListeners[t] === e) {\n        this.subscribeListeners.splice(t, 1);\n        return;\n      }\n  }\n}\nfunction G(s, e, t) {\n  return window.addEventListener(s, e, t), () => window.removeEventListener(s, e, t);\n}\nfunction J(...s) {\n  let e = !1;\n  const t = s.flat(1);\n  return [\n    (n) => !e && t.push(n),\n    () => {\n      e || (e = !0, t.forEach((n) => n()));\n    },\n    e\n  ];\n}\nclass V extends Error {\n  constructor(e, t, n) {\n    super(t, { cause: n }), this.type = e, Object.setPrototypeOf(this, V.prototype);\n  }\n}\nfunction f(s, e, t) {\n  return new V(s, e, t);\n}\nconst je = \"ERR_METHOD_UNSUPPORTED\", ze = \"ERR_METHOD_PARAMETER_UNSUPPORTED\", Fe = \"ERR_UNKNOWN_ENV\", Je = \"ERR_INVOKE_CUSTOM_METHOD_RESPONSE\", Qe = \"ERR_TIMED_OUT\", Ye = \"ERR_UNEXPECTED_TYPE\", ce = \"ERR_PARSE\", Ze = \"ERR_NAVIGATION_LIST_EMPTY\", Ke = \"ERR_NAVIGATION_CURSOR_INVALID\", Xt = \"ERR_NAVIGATION_ITEM_INVALID\", es = \"ERR_SSR_INIT\", Xe = \"ERR_INVALID_PATH_BASE\";\nfunction E() {\n  return f(Ye, \"Value has unexpected type\");\n}\nclass D {\n  constructor(e, t, n) {\n    this.parser = e, this.isOptional = t, this.type = n;\n  }\n  /**\n   * Attempts to parse passed value\n   * @param value - value to parse.\n   * @throws {SDKError} ERR_PARSE\n   * @see ERR_PARSE\n   */\n  parse(e) {\n    if (!(this.isOptional && e === void 0))\n      try {\n        return this.parser(e);\n      } catch (t) {\n        throw f(\n          ce,\n          `Unable to parse value${this.type ? ` as ${this.type}` : \"\"}`,\n          t\n        );\n      }\n  }\n  optional() {\n    return this.isOptional = !0, this;\n  }\n}\nfunction S(s, e) {\n  return () => new D(s, !1, e);\n}\nconst b = S((s) => {\n  if (typeof s == \"boolean\")\n    return s;\n  const e = String(s);\n  if (e === \"1\" || e === \"true\")\n    return !0;\n  if (e === \"0\" || e === \"false\")\n    return !1;\n  throw E();\n}, \"boolean\");\nfunction pe(s, e) {\n  const t = {};\n  for (const n in s) {\n    const r = s[n];\n    if (!r)\n      continue;\n    let i, o;\n    if (typeof r == \"function\" || \"parse\" in r)\n      i = n, o = typeof r == \"function\" ? r : r.parse.bind(r);\n    else {\n      const { type: a } = r;\n      i = r.from || n, o = typeof a == \"function\" ? a : a.parse.bind(a);\n    }\n    try {\n      const a = o(e(i));\n      a !== void 0 && (t[n] = a);\n    } catch (a) {\n      throw f(ce, `Unable to parse field \"${n}\"`, a);\n    }\n  }\n  return t;\n}\nfunction he(s) {\n  let e = s;\n  if (typeof e == \"string\" && (e = JSON.parse(e)), typeof e != \"object\" || e === null || Array.isArray(e))\n    throw E();\n  return e;\n}\nfunction g(s, e) {\n  return new D((t) => {\n    const n = he(t);\n    return pe(s, (r) => n[r]);\n  }, !1, e);\n}\nconst y = S((s) => {\n  if (typeof s == \"number\")\n    return s;\n  if (typeof s == \"string\") {\n    const e = Number(s);\n    if (!Number.isNaN(e))\n      return e;\n  }\n  throw E();\n}, \"number\"), h = S((s) => {\n  if (typeof s == \"string\" || typeof s == \"number\")\n    return s.toString();\n  throw E();\n}, \"string\");\nfunction ue(s) {\n  return g({\n    eventType: h(),\n    eventData: (e) => e\n  }).parse(s);\n}\nfunction et() {\n  [\"TelegramGameProxy_receiveEvent\", \"TelegramGameProxy\", \"Telegram\"].forEach((s) => {\n    delete window[s];\n  });\n}\nfunction j(s, e) {\n  window.dispatchEvent(new MessageEvent(\"message\", {\n    data: JSON.stringify({ eventType: s, eventData: e }),\n    // We specify window.parent to imitate the case, the parent iframe sent us this event.\n    source: window.parent\n  }));\n}\nfunction tt() {\n  [\n    [\"TelegramGameProxy_receiveEvent\"],\n    // Windows Phone.\n    [\"TelegramGameProxy\", \"receiveEvent\"],\n    // Desktop.\n    [\"Telegram\", \"WebView\", \"receiveEvent\"]\n    // Android and iOS.\n  ].forEach((s) => {\n    let e = window;\n    s.forEach((t, n, r) => {\n      if (n === r.length - 1) {\n        e[t] = j;\n        return;\n      }\n      t in e || (e[t] = {}), e = e[t];\n    });\n  });\n}\nconst st = {\n  clipboard_text_received: g({\n    req_id: h(),\n    data: (s) => s === null ? s : h().optional().parse(s)\n  }),\n  custom_method_invoked: g({\n    req_id: h(),\n    result: (s) => s,\n    error: h().optional()\n  }),\n  popup_closed: {\n    parse(s) {\n      return g({\n        button_id: (e) => e == null ? void 0 : h().parse(e)\n      }).parse(s ?? {});\n    }\n  },\n  viewport_changed: g({\n    height: y(),\n    width: (s) => s == null ? window.innerWidth : y().parse(s),\n    is_state_stable: b(),\n    is_expanded: b()\n  })\n};\nfunction nt() {\n  const s = new R(), e = new R();\n  e.subscribe((n) => {\n    s.emit(\"event\", { name: n.event, payload: n.args[0] });\n  }), tt();\n  const [, t] = J(\n    // Don't forget to remove created handlers.\n    et,\n    // Add \"resize\" event listener to make sure, we always have fresh viewport information.\n    // Desktop version of Telegram is sometimes not sending the viewport_changed\n    // event. For example, when the MainButton is shown. That's why we should\n    // add our own listener to make sure, viewport information is always fresh.\n    // Issue: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/10\n    G(\"resize\", () => {\n      e.emit(\"viewport_changed\", {\n        width: window.innerWidth,\n        height: window.innerHeight,\n        is_state_stable: !0,\n        is_expanded: !0\n      });\n    }),\n    // Add listener, which handles events sent from the Telegram web application and also events\n    // generated by the local emitEvent function.\n    G(\"message\", (n) => {\n      if (n.source !== window.parent)\n        return;\n      let r;\n      try {\n        r = ue(n.data);\n      } catch {\n        return;\n      }\n      const { eventType: i, eventData: o } = r, a = st[i];\n      try {\n        const p = a ? a.parse(o) : o;\n        e.emit(...p ? [i, p] : [i]);\n      } catch (p) {\n        F.error(\n          `An error occurred processing the \"${i}\" event from the Telegram application.\nPlease, file an issue here:\nhttps://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose`,\n          r,\n          p\n        );\n      }\n    }),\n    // Clear emitters.\n    () => s.clear(),\n    () => e.clear()\n  );\n  return [{\n    on: e.on.bind(e),\n    off: e.off.bind(e),\n    subscribe(n) {\n      return s.on(\"event\", n);\n    },\n    unsubscribe(n) {\n      s.off(\"event\", n);\n    },\n    get count() {\n      return e.count + s.count;\n    }\n  }, t];\n}\nconst [rt, it] = oe(\n  (s) => {\n    const [e, t] = nt(), n = e.off.bind(e);\n    return e.off = (r, i) => {\n      const { count: o } = e;\n      n(r, i), o && !e.count && s();\n    }, [e, t];\n  },\n  ([, s]) => s()\n);\nfunction M() {\n  return rt()[0];\n}\nfunction B(s, e) {\n  M().off(s, e);\n}\nfunction w(s, e, t) {\n  return M().on(s, e, t);\n}\nfunction k(s) {\n  return typeof s == \"object\" && s !== null && !Array.isArray(s);\n}\nfunction ot(s, e) {\n  const t = s.split(\".\"), n = e.split(\".\"), r = Math.max(t.length, n.length);\n  for (let i = 0; i < r; i += 1) {\n    const o = parseInt(t[i] || \"0\", 10), a = parseInt(n[i] || \"0\", 10);\n    if (o !== a)\n      return o > a ? 1 : -1;\n  }\n  return 0;\n}\nfunction _(s, e) {\n  return ot(s, e) <= 0;\n}\nfunction v(s, e, t) {\n  if (typeof t == \"string\") {\n    if (s === \"web_app_open_link\") {\n      if (e === \"try_instant_view\")\n        return _(\"6.4\", t);\n      if (e === \"try_browser\")\n        return _(\"7.6\", t);\n    }\n    if (s === \"web_app_set_header_color\" && e === \"color\")\n      return _(\"6.9\", t);\n    if (s === \"web_app_close\" && e === \"return_back\")\n      return _(\"7.6\", t);\n  }\n  switch (s) {\n    case \"web_app_open_tg_link\":\n    case \"web_app_open_invoice\":\n    case \"web_app_setup_back_button\":\n    case \"web_app_set_background_color\":\n    case \"web_app_set_header_color\":\n    case \"web_app_trigger_haptic_feedback\":\n      return _(\"6.1\", e);\n    case \"web_app_open_popup\":\n      return _(\"6.2\", e);\n    case \"web_app_close_scan_qr_popup\":\n    case \"web_app_open_scan_qr_popup\":\n    case \"web_app_read_text_from_clipboard\":\n      return _(\"6.4\", e);\n    case \"web_app_switch_inline_query\":\n      return _(\"6.7\", e);\n    case \"web_app_invoke_custom_method\":\n    case \"web_app_request_write_access\":\n    case \"web_app_request_phone\":\n      return _(\"6.9\", e);\n    case \"web_app_setup_settings_button\":\n      return _(\"6.10\", e);\n    case \"web_app_biometry_get_info\":\n    case \"web_app_biometry_open_settings\":\n    case \"web_app_biometry_request_access\":\n    case \"web_app_biometry_request_auth\":\n    case \"web_app_biometry_update_token\":\n      return _(\"7.2\", e);\n    case \"web_app_setup_swipe_behavior\":\n      return _(\"7.7\", e);\n    default:\n      return [\n        \"iframe_ready\",\n        \"iframe_will_reload\",\n        \"web_app_close\",\n        \"web_app_data_send\",\n        \"web_app_expand\",\n        \"web_app_open_link\",\n        \"web_app_ready\",\n        \"web_app_request_theme\",\n        \"web_app_request_viewport\",\n        \"web_app_setup_main_button\",\n        \"web_app_setup_closing_behavior\"\n      ].includes(s);\n  }\n}\nfunction le(s) {\n  return \"external\" in s && k(s.external) && \"notify\" in s.external && typeof s.external.notify == \"function\";\n}\nfunction de(s) {\n  return \"TelegramWebviewProxy\" in s && k(s.TelegramWebviewProxy) && \"postEvent\" in s.TelegramWebviewProxy && typeof s.TelegramWebviewProxy.postEvent == \"function\";\n}\nfunction _e() {\n  try {\n    return window.self !== window.top;\n  } catch {\n    return !0;\n  }\n}\nconst at = \"https://web.telegram.org\";\nlet fe = at;\nfunction ts(s) {\n  fe = s;\n}\nfunction ct() {\n  return fe;\n}\nfunction A(s, e, t) {\n  let n = {}, r;\n  if (!e && !t ? n = {} : e && t ? (n = t, r = e) : e && (\"targetOrigin\" in e ? n = e : r = e), Ge(\"Posting event:\", r ? { event: s, data: r } : { event: s }), _e())\n    return window.parent.postMessage(\n      JSON.stringify({ eventType: s, eventData: r }),\n      n.targetOrigin || ct()\n    );\n  if (le(window)) {\n    window.external.notify(JSON.stringify({ eventType: s, eventData: r }));\n    return;\n  }\n  if (de(window)) {\n    window.TelegramWebviewProxy.postEvent(s, JSON.stringify(r));\n    return;\n  }\n  throw f(\n    Fe,\n    \"Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside the Telegram application environment.\"\n  );\n}\nfunction pt(s) {\n  return (e, t) => {\n    if (!v(e, s))\n      throw f(je, `Method \"${e}\" is unsupported in Mini Apps version ${s}`);\n    if (k(t) && e === \"web_app_set_header_color\" && \"color\" in t && !v(e, \"color\", s))\n      throw f(\n        ze,\n        `Parameter \"color\" of \"${e}\" method is unsupported in Mini Apps version ${s}`\n      );\n    return A(e, t);\n  };\n}\nfunction ge(s) {\n  return ({ req_id: e }) => e === s;\n}\nfunction we(s) {\n  return f(Qe, `Timeout reached: ${s}ms`);\n}\nfunction be(s, e) {\n  return Promise.race([\n    typeof s == \"function\" ? s() : s,\n    new Promise((t, n) => {\n      setTimeout(() => {\n        n(we(e));\n      }, e);\n    })\n  ]);\n}\nasync function d(s) {\n  let e;\n  const t = new Promise((a) => e = a), { event: n, capture: r, timeout: i } = s, [, o] = J(\n    // We need to iterate over all tracked events, and create their event listeners.\n    (Array.isArray(n) ? n : [n]).map((a) => w(a, (p) => {\n      (!r || (Array.isArray(n) ? r({\n        event: a,\n        payload: p\n      }) : r(p))) && e(p);\n    }))\n  );\n  try {\n    return (s.postEvent || A)(s.method, s.params), await (i ? be(t, i) : t);\n  } finally {\n    o();\n  }\n}\nasync function C(s, e, t, n = {}) {\n  const {\n    result: r,\n    error: i\n  } = await d({\n    ...n,\n    method: \"web_app_invoke_custom_method\",\n    event: \"custom_method_invoked\",\n    params: {\n      method: s,\n      params: e,\n      req_id: t\n    },\n    capture: ge(t)\n  });\n  if (i)\n    throw f(Je, i);\n  return r;\n}\nfunction z(...s) {\n  return s.map((e) => {\n    if (typeof e == \"string\")\n      return e;\n    if (k(e))\n      return z(Object.entries(e).map((t) => t[1] && t[0]));\n    if (Array.isArray(e))\n      return z(...e);\n  }).filter(Boolean).join(\" \");\n}\nfunction ss(...s) {\n  return s.reduce((e, t) => (k(t) && Object.entries(t).forEach(([n, r]) => {\n    const i = z(e[n], r);\n    i.length && (e[n] = i);\n  }), e), {});\n}\nfunction Q(s) {\n  return /^#[\\da-f]{6}$/i.test(s);\n}\nfunction ht(s) {\n  return /^#[\\da-f]{3}$/i.test(s);\n}\nfunction me(s) {\n  const e = s.replace(/\\s/g, \"\").toLowerCase();\n  if (Q(e))\n    return e;\n  if (ht(e)) {\n    let n = \"#\";\n    for (let r = 0; r < 3; r += 1)\n      n += e[1 + r].repeat(2);\n    return n;\n  }\n  const t = e.match(/^rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)$/) || e.match(/^rgba\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3}),\\d{1,3}\\)$/);\n  if (!t)\n    throw new Error(`Value \"${s}\" does not satisfy any of known RGB formats.`);\n  return t.slice(1).reduce((n, r) => {\n    const i = parseInt(r, 10).toString(16);\n    return n + (i.length === 1 ? \"0\" : \"\") + i;\n  }, \"#\");\n}\nfunction ye(s) {\n  const e = me(s);\n  return Math.sqrt(\n    [0.299, 0.587, 0.114].reduce((t, n, r) => {\n      const i = parseInt(e.slice(1 + r * 2, 1 + (r + 1) * 2), 16);\n      return t + i * i * n;\n    }, 0)\n  ) < 120;\n}\nclass ut {\n  constructor(e) {\n    c(this, \"ee\", new R());\n    /**\n     * Adds new event listener.\n     */\n    c(this, \"on\", this.ee.on.bind(this.ee));\n    /**\n     * Removes event listener.\n     */\n    c(this, \"off\", this.ee.off.bind(this.ee));\n    this.state = e;\n  }\n  /**\n   * Clones current state and returns its copy.\n   */\n  clone() {\n    return { ...this.state };\n  }\n  set(e, t) {\n    Object.entries(typeof e == \"string\" ? { [e]: t } : e).reduce((r, [i, o]) => this.state[i] === o || o === void 0 ? r : (this.state[i] = o, this.ee.emit(`change:${i}`, o), !0), !1) && this.ee.emit(\"change\", this.state);\n  }\n  /**\n   * Returns value by specified key.\n   * @param key - state key.\n   */\n  get(e) {\n    return this.state[e];\n  }\n}\nclass Y {\n  constructor(e) {\n    c(this, \"state\");\n    /**\n     * Gets the state value.\n     */\n    c(this, \"get\");\n    /**\n     * Sets the state value.\n     */\n    c(this, \"set\");\n    /**\n     * Clones the current state.\n     */\n    c(this, \"clone\");\n    this.state = new ut(e), this.set = this.state.set.bind(this.state), this.get = this.state.get.bind(this.state), this.clone = this.state.clone.bind(this.state);\n  }\n}\nfunction ve(s, e) {\n  return (t) => v(e[t], s);\n}\nclass Z extends Y {\n  constructor(t, n, r) {\n    super(t);\n    /**\n     * @returns True, if specified method is supported by the current component.\n     */\n    c(this, \"supports\");\n    this.supports = ve(n, r);\n  }\n}\nclass lt extends Z {\n  constructor(t, n, r) {\n    super({ isVisible: t }, n, {\n      show: \"web_app_setup_back_button\",\n      hide: \"web_app_setup_back_button\"\n    });\n    /**\n     * Adds a new event listener.\n     * @param event - event to listen.\n     * @param listener - listener to add.\n     */\n    c(this, \"on\", (t, n) => t === \"click\" ? w(\"back_button_pressed\", n) : this.state.on(t, n));\n    /**\n     * Removes the event listener.\n     * @param event - event to listen.\n     * @param listener - listener to remove.\n     */\n    c(this, \"off\", (t, n) => t === \"click\" ? B(\"back_button_pressed\", n) : this.state.off(t, n));\n    this.postEvent = r;\n  }\n  set isVisible(t) {\n    this.set(\"isVisible\", t), this.postEvent(\"web_app_setup_back_button\", { is_visible: t });\n  }\n  /**\n   * True if BackButton is currently visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Hides the BackButton.\n   */\n  hide() {\n    this.isVisible = !1;\n  }\n  /**\n   * Shows the BackButton.\n   */\n  show() {\n    this.isVisible = !0;\n  }\n}\nconst Ee = S((s) => s instanceof Date ? s : new Date(y().parse(s) * 1e3), \"Date\");\nfunction K(s, e) {\n  return new D((t) => {\n    if (typeof t != \"string\" && !(t instanceof URLSearchParams))\n      throw E();\n    const n = typeof t == \"string\" ? new URLSearchParams(t) : t;\n    return pe(s, (r) => {\n      const i = n.get(r);\n      return i === null ? void 0 : i;\n    });\n  }, !1, e);\n}\nconst dt = g({\n  id: y(),\n  type: h(),\n  title: h(),\n  photoUrl: {\n    type: h().optional(),\n    from: \"photo_url\"\n  },\n  username: h().optional()\n}, \"Chat\").optional(), ne = g({\n  addedToAttachmentMenu: {\n    type: b().optional(),\n    from: \"added_to_attachment_menu\"\n  },\n  allowsWriteToPm: {\n    type: b().optional(),\n    from: \"allows_write_to_pm\"\n  },\n  firstName: {\n    type: h(),\n    from: \"first_name\"\n  },\n  id: y(),\n  isBot: {\n    type: b().optional(),\n    from: \"is_bot\"\n  },\n  isPremium: {\n    type: b().optional(),\n    from: \"is_premium\"\n  },\n  languageCode: {\n    type: h().optional(),\n    from: \"language_code\"\n  },\n  lastName: {\n    type: h().optional(),\n    from: \"last_name\"\n  },\n  photoUrl: {\n    type: h().optional(),\n    from: \"photo_url\"\n  },\n  username: h().optional()\n}, \"User\").optional();\nfunction Se() {\n  return K({\n    authDate: {\n      type: Ee(),\n      from: \"auth_date\"\n    },\n    canSendAfter: {\n      type: y().optional(),\n      from: \"can_send_after\"\n    },\n    chat: dt,\n    chatInstance: {\n      type: h().optional(),\n      from: \"chat_instance\"\n    },\n    chatType: {\n      type: h().optional(),\n      from: \"chat_type\"\n    },\n    hash: h(),\n    queryId: {\n      type: h().optional(),\n      from: \"query_id\"\n    },\n    receiver: ne,\n    startParam: {\n      type: h().optional(),\n      from: \"start_param\"\n    },\n    user: ne\n  }, \"InitData\");\n}\nconst _t = S((s) => me(h().parse(s)), \"rgb\");\nfunction ft(s) {\n  return s.replace(/_[a-z]/g, (e) => e[1].toUpperCase());\n}\nfunction gt(s) {\n  return s.replace(/[A-Z]/g, (e) => `_${e.toLowerCase()}`);\n}\nconst Pe = S(\n  (s) => {\n    const e = _t().optional();\n    return Object.entries(he(s)).reduce((t, [n, r]) => (t[ft(n)] = e.parse(r), t), {});\n  },\n  \"ThemeParams\"\n);\nfunction X(s) {\n  return K({\n    botInline: {\n      type: b().optional(),\n      from: \"tgWebAppBotInline\"\n    },\n    initData: {\n      type: Se().optional(),\n      from: \"tgWebAppData\"\n    },\n    initDataRaw: {\n      type: h().optional(),\n      from: \"tgWebAppData\"\n    },\n    platform: {\n      type: h(),\n      from: \"tgWebAppPlatform\"\n    },\n    showSettings: {\n      type: b().optional(),\n      from: \"tgWebAppShowSettings\"\n    },\n    startParam: {\n      type: h().optional(),\n      from: \"tgWebAppStartParam\"\n    },\n    themeParams: {\n      type: Pe(),\n      from: \"tgWebAppThemeParams\"\n    },\n    version: {\n      type: h(),\n      from: \"tgWebAppVersion\"\n    }\n  }).parse(s);\n}\nfunction xe(s) {\n  return X(\n    s.replace(/^[^?#]*[?#]/, \"\").replace(/[?#]/g, \"&\")\n  );\n}\nfunction wt() {\n  return xe(window.location.href);\n}\nfunction Ce() {\n  return performance.getEntriesByType(\"navigation\")[0];\n}\nfunction bt() {\n  const s = Ce();\n  if (!s)\n    throw new Error(\"Unable to get first navigation entry.\");\n  return xe(s.name);\n}\nfunction Te(s) {\n  return `telegram-apps/${s.replace(/[A-Z]/g, (e) => `-${e.toLowerCase()}`)}`;\n}\nfunction Re(s, e) {\n  sessionStorage.setItem(Te(s), JSON.stringify(e));\n}\nfunction Ae(s) {\n  const e = sessionStorage.getItem(Te(s));\n  try {\n    return e ? JSON.parse(e) : void 0;\n  } catch {\n  }\n}\nfunction mt() {\n  return X(Ae(\"launchParams\") || \"\");\n}\nfunction Ie(s) {\n  return JSON.stringify(\n    Object.fromEntries(\n      Object.entries(s).map(([e, t]) => [gt(e), t])\n    )\n  );\n}\nfunction yt(s) {\n  const {\n    initDataRaw: e,\n    themeParams: t,\n    platform: n,\n    version: r,\n    showSettings: i,\n    startParam: o,\n    botInline: a\n  } = s, p = new URLSearchParams();\n  return p.set(\"tgWebAppPlatform\", n), p.set(\"tgWebAppThemeParams\", Ie(t)), p.set(\"tgWebAppVersion\", r), e && p.set(\"tgWebAppData\", e), o && p.set(\"tgWebAppStartParam\", o), typeof i == \"boolean\" && p.set(\"tgWebAppShowSettings\", i ? \"1\" : \"0\"), typeof a == \"boolean\" && p.set(\"tgWebAppBotInline\", a ? \"1\" : \"0\"), p.toString();\n}\nfunction qe(s) {\n  Re(\"launchParams\", yt(s));\n}\nfunction vt() {\n  const s = [];\n  for (const e of [\n    // Try to retrieve launch parameters from the current location. This method can return\n    // nothing in case, location was changed, and then the page was reloaded.\n    wt,\n    // Then, try using the lower level API - window.performance.\n    bt,\n    // Finally, try to extract launch parameters from the session storage.\n    mt\n  ])\n    try {\n      const t = e();\n      return qe(t), t;\n    } catch (t) {\n      s.push(t instanceof Error ? t.message : JSON.stringify(t));\n    }\n  throw new Error([\n    `Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?\n`,\n    \"ðŸ“– Refer to docs for more information:\",\n    `https://docs.telegram-mini-apps.com/packages/telegram-apps-sdk/environment\n`,\n    \"Collected errors:\",\n    s.map((e) => `â€” ${e}`)\n  ].join(`\n`));\n}\nfunction ke() {\n  const s = Ce();\n  return !!(s && s.type === \"reload\");\n}\nfunction Et() {\n  let s = 0;\n  return () => (s += 1).toString();\n}\nconst [St] = oe(Et);\nfunction l(s, e) {\n  return () => {\n    const t = vt(), n = {\n      ...t,\n      postEvent: pt(t.version),\n      createRequestId: St()\n    };\n    if (typeof s == \"function\")\n      return s(n);\n    const [r, i, o] = J(), a = e({\n      ...n,\n      // State should only be passed only in case, current page was reloaded. If we don't add\n      // this check, state restoration will work improperly in the web version of Telegram,\n      // when we are always working in the same \"session\" (tab).\n      state: ke() ? Ae(s) : void 0,\n      addCleanup: r\n    }), p = (u) => (o || r(\n      u.on(\"change\", ($e) => {\n        Re(s, $e);\n      })\n    ), u);\n    return [\n      a instanceof Promise ? a.then(p) : p(a),\n      i\n    ];\n  };\n}\nconst ns = l(\"backButton\", ({\n  postEvent: s,\n  version: e,\n  state: t = { isVisible: !1 }\n}) => new lt(t.isVisible, e, s));\nclass P extends Z {\n  constructor() {\n    super(...arguments);\n    /**\n     * Adds a new event listener.\n     */\n    c(this, \"on\", this.state.on.bind(this.state));\n    /**\n     * Removes the event listener.\n     */\n    c(this, \"off\", this.state.off.bind(this.state));\n  }\n}\nfunction Ne(s) {\n  const e = s.available ? s : {\n    available: !1,\n    device_id: \"\",\n    token_saved: !1,\n    access_requested: !1,\n    access_granted: !1,\n    type: \"\"\n  };\n  return {\n    available: !0,\n    type: e.type,\n    deviceId: e.device_id,\n    tokenSaved: e.token_saved,\n    accessRequested: e.access_requested,\n    accessGranted: e.access_granted\n  };\n}\nclass Pt extends P {\n  constructor({ postEvent: t, version: n, ...r }) {\n    super(r, n, {\n      auth: \"web_app_biometry_request_auth\",\n      openSettings: \"web_app_biometry_open_settings\",\n      requestAccess: \"web_app_biometry_request_access\",\n      updateToken: \"web_app_biometry_update_token\"\n    });\n    c(this, \"postEvent\");\n    c(this, \"authPromise\");\n    c(this, \"accessPromise\");\n    this.postEvent = t;\n  }\n  /**\n   * Shows whether biometry is available.\n   */\n  get available() {\n    return this.get(\"available\");\n  }\n  /**\n   * Shows whether permission to use biometrics has been granted.\n   */\n  get accessGranted() {\n    return this.get(\"accessGranted\");\n  }\n  /**\n   * Shows whether if permission to use biometrics has been requested.\n   */\n  get accessRequested() {\n    return this.get(\"accessRequested\");\n  }\n  /**\n   * Authenticates the user using biometrics.\n   * @param options - method options.\n   * @since 7.2\n   * @returns Token from the local secure storage, if authentication was successful.\n   */\n  async authenticate({\n    reason: t,\n    ...n\n  }) {\n    return this.authPromise || (this.authPromise = d({\n      ...n,\n      method: \"web_app_biometry_request_auth\",\n      event: \"biometry_auth_requested\",\n      postEvent: this.postEvent,\n      params: {\n        // TODO: Check if reason is empty works fine.\n        reason: (t || \"\").trim()\n      }\n    }).then(({ token: r }) => r).finally(() => this.authPromise = void 0)), this.authPromise;\n  }\n  /**\n   * A unique device identifier that can be used to match the token to the device.\n   */\n  get deviceId() {\n    return this.get(\"deviceId\");\n  }\n  /**\n   * Opens the biometric access settings for bots. Useful when you need to request biometrics\n   * access to users who haven't granted it yet.\n   *\n   * _Note that this method can be called only in response to user interaction with the Mini App\n   * interface (e.g. a click inside the Mini App or on the main button)_.\n   * @since 7.2\n   */\n  openSettings() {\n    this.postEvent(\"web_app_biometry_open_settings\");\n  }\n  /**\n   * Requests permission to use biometrics.\n   * @since 7.2\n   * @returns Promise with true, if access was granted.\n   */\n  requestAccess({ reason: t, ...n } = {}) {\n    return this.accessPromise || (this.accessPromise = d({\n      ...n,\n      postEvent: this.postEvent,\n      method: \"web_app_biometry_request_access\",\n      event: \"biometry_info_received\",\n      params: { reason: t || \"\" }\n    }).then((r) => {\n      const i = Ne(r);\n      return this.set(i), i.accessGranted;\n    }).finally(() => this.accessPromise = void 0)), this.accessPromise;\n  }\n  /**\n   * The type of biometrics currently available on the device.\n   */\n  get biometryType() {\n    return this.get(\"biometryType\");\n  }\n  /**\n   * Shows whether token was saved previously in the local secure storage.\n   */\n  get tokenSaved() {\n    return this.get(\"tokenSaved\");\n  }\n  /**\n   * Updates the biometric token in a secure storage on the device.\n   * @returns Promise with `true`, if token was updated.\n   */\n  async updateToken({ token: t, ...n } = {}) {\n    return [\"removed\", \"updated\"].includes(\n      (await d({\n        ...n,\n        postEvent: this.postEvent,\n        method: \"web_app_biometry_update_token\",\n        event: \"biometry_token_updated\",\n        params: { token: t || \"\" }\n      })).status\n    );\n  }\n}\nasync function xt(s) {\n  return Ne(\n    await d({\n      ...s || {},\n      method: \"web_app_biometry_get_info\",\n      event: \"biometry_info_received\"\n    })\n  );\n}\nconst rs = l(\n  \"biometryManager\",\n  async ({ postEvent: s, version: e, state: t }) => new Pt({\n    ...t || v(\"web_app_biometry_get_info\", e) ? t || await xt({ timeout: 1e3 }) : {\n      available: !1,\n      accessGranted: !1,\n      accessRequested: !1,\n      tokenSaved: !1,\n      deviceId: \"\"\n    },\n    version: e,\n    postEvent: s\n  })\n);\nclass ee extends Y {\n  constructor() {\n    super(...arguments);\n    /**\n     * Adds a new event listener.\n     */\n    c(this, \"on\", this.state.on.bind(this.state));\n    /**\n     * Removes the event listener.\n     */\n    c(this, \"off\", this.state.off.bind(this.state));\n  }\n}\nclass Ct extends ee {\n  constructor(e, t) {\n    super({ isConfirmationNeeded: e }), this.postEvent = t;\n  }\n  set isConfirmationNeeded(e) {\n    this.set(\"isConfirmationNeeded\", e), this.postEvent(\"web_app_setup_closing_behavior\", { need_confirmation: e });\n  }\n  /**\n   * True, if the confirmation dialog should be shown while the user is trying to close\n   * the Mini App.\n   */\n  get isConfirmationNeeded() {\n    return this.get(\"isConfirmationNeeded\");\n  }\n  /**\n   * Disables the confirmation dialog when closing the Mini App.\n   */\n  disableConfirmation() {\n    this.isConfirmationNeeded = !1;\n  }\n  /**\n   * Enables the confirmation dialog when closing the Mini App.\n   */\n  enableConfirmation() {\n    this.isConfirmationNeeded = !0;\n  }\n}\nconst is = l(\n  \"closingBehavior\",\n  ({\n    postEvent: s,\n    state: e = { isConfirmationNeeded: !1 }\n  }) => new Ct(e.isConfirmationNeeded, s)\n);\nclass te {\n  constructor(e, t) {\n    /**\n     * @returns True, if specified method is supported by the current component.\n     */\n    c(this, \"supports\");\n    this.supports = ve(e, t);\n  }\n}\nfunction Tt(s) {\n  if (Array.isArray(s))\n    return s;\n  if (typeof s == \"string\")\n    try {\n      const e = JSON.parse(s);\n      if (Array.isArray(e))\n        return e;\n    } catch {\n    }\n  throw E();\n}\nclass Rt extends D {\n  constructor(t, n, r) {\n    super(Tt, n, r);\n    c(this, \"itemParser\");\n    this.itemParser = typeof t == \"function\" ? t : t.parse.bind(t);\n  }\n  /**\n   * Attempts to parse passed value\n   * @param value - value to parse.\n   * @throws {SDKError} ERR_PARSE\n   * @see ERR_PARSE\n   */\n  parse(t) {\n    const n = super.parse(t);\n    return n === void 0 ? n : n.map(this.itemParser);\n  }\n  of(t) {\n    return this.itemParser = typeof t == \"function\" ? t : t.parse.bind(t), this;\n  }\n}\nfunction At(s) {\n  return new Rt((e) => e, !1, s);\n}\nfunction re(s, e) {\n  return Object.fromEntries(s.map((t) => [t, e]));\n}\nclass It extends te {\n  constructor(e, t, n) {\n    super(e, {\n      delete: \"web_app_invoke_custom_method\",\n      get: \"web_app_invoke_custom_method\",\n      getKeys: \"web_app_invoke_custom_method\",\n      set: \"web_app_invoke_custom_method\"\n    }), this.createRequestId = t, this.postEvent = n;\n  }\n  /**\n   * Deletes specified key or keys from the cloud storage.\n   * @param keyOrKeys - key or keys to delete.\n   * @param options - request execution options.\n   */\n  async delete(e, t = {}) {\n    const n = Array.isArray(e) ? e : [e];\n    n.length && await C(\n      \"deleteStorageValues\",\n      { keys: n },\n      this.createRequestId(),\n      { ...t, postEvent: this.postEvent }\n    );\n  }\n  /**\n   * Returns list of all keys presented in the cloud storage.\n   * @param options - request execution options.\n   */\n  async getKeys(e = {}) {\n    return At().of(h()).parse(\n      await C(\n        \"getStorageKeys\",\n        {},\n        this.createRequestId(),\n        { ...e, postEvent: this.postEvent }\n      )\n    );\n  }\n  async get(e, t = {}) {\n    const n = Array.isArray(e) ? e : [e];\n    if (!n.length)\n      return re(n, \"\");\n    const r = await C(\n      \"getStorageValues\",\n      { keys: n },\n      this.createRequestId(),\n      { ...t, postEvent: this.postEvent }\n    ), i = g(re(n, h()), \"CloudStorageData\").parse(r);\n    return Array.isArray(e) ? i : i[e];\n  }\n  /**\n   * Saves specified value by key.\n   * @param key - storage key.\n   * @param value - storage value.\n   * @param options - request execution options.\n   */\n  async set(e, t, n = {}) {\n    await C(\n      \"saveStorageValue\",\n      { key: e, value: t },\n      this.createRequestId(),\n      { ...n, postEvent: this.postEvent }\n    );\n  }\n}\nconst os = l(\n  ({ createRequestId: s, postEvent: e, version: t }) => new It(t, s, e)\n);\nclass qt extends te {\n  constructor(e, t) {\n    super(e, {\n      impactOccurred: \"web_app_trigger_haptic_feedback\",\n      notificationOccurred: \"web_app_trigger_haptic_feedback\",\n      selectionChanged: \"web_app_trigger_haptic_feedback\"\n    }), this.postEvent = t;\n  }\n  /**\n   * A method tells that an impact occurred. The Telegram app may play the\n   * appropriate haptics based on style value passed.\n   * @param style - impact style.\n   */\n  impactOccurred(e) {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", {\n      type: \"impact\",\n      impact_style: e\n    });\n  }\n  /**\n   * A method tells that a task or action has succeeded, failed, or produced\n   * a warning. The Telegram app may play the appropriate haptics based on\n   * type value passed.\n   * @param type - notification type.\n   */\n  notificationOccurred(e) {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", {\n      type: \"notification\",\n      notification_type: e\n    });\n  }\n  /**\n   * A method tells that the user has changed a selection. The Telegram app\n   * may play the appropriate haptics.\n   *\n   * Do not use this feedback when the user makes or confirms a selection;\n   * use it only when the selection changes.\n   */\n  selectionChanged() {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", { type: \"selection_change\" });\n  }\n}\nconst as = l(\n  ({ version: s, postEvent: e }) => new qt(s, e)\n);\nclass kt {\n  constructor(e) {\n    this.initData = e;\n  }\n  /**\n   * @see InitDataParsed.authDate\n   */\n  get authDate() {\n    return this.initData.authDate;\n  }\n  /**\n   * @see InitDataParsed.canSendAfter\n   */\n  get canSendAfter() {\n    return this.initData.canSendAfter;\n  }\n  /**\n   * Date after which it is allowed to call\n   * the [answerWebAppQuery](https://core.telegram.org/bots/api#answerwebappquery) method.\n   */\n  get canSendAfterDate() {\n    const { canSendAfter: e } = this;\n    return e ? new Date(this.authDate.getTime() + e * 1e3) : void 0;\n  }\n  /**\n   * @see InitDataParsed.chat\n   */\n  get chat() {\n    return this.initData.chat;\n  }\n  /**\n   * @see InitDataParsed.chatType\n   */\n  get chatType() {\n    return this.initData.chatType;\n  }\n  /**\n   * @see InitDataParsed.chatInstance\n   */\n  get chatInstance() {\n    return this.initData.chatInstance;\n  }\n  /**\n   * @see InitDataParsed.hash\n   */\n  get hash() {\n    return this.initData.hash;\n  }\n  /**\n   * @see InitDataParsed.queryId\n   */\n  get queryId() {\n    return this.initData.queryId;\n  }\n  /**\n   * @see InitDataParsed.receiver\n   */\n  get receiver() {\n    return this.initData.receiver;\n  }\n  /**\n   * @see InitDataParsed.startParam\n   */\n  get startParam() {\n    return this.initData.startParam;\n  }\n  /**\n   * @see InitDataParsed.user\n   */\n  get user() {\n    return this.initData.user;\n  }\n}\nconst cs = l(\n  ({ initData: s }) => s ? new kt(s) : void 0\n);\nfunction ps(s) {\n  return Se().parse(s);\n}\nclass Nt extends P {\n  constructor(e, t, n) {\n    super({ isOpened: e }, t, { open: \"web_app_open_invoice\" }), this.postEvent = n;\n  }\n  set isOpened(e) {\n    this.set(\"isOpened\", e);\n  }\n  /**\n   * True if invoice is currently opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  async open(e, t) {\n    if (this.isOpened)\n      throw new Error(\"Invoice is already opened\");\n    let n;\n    if (!t)\n      n = e;\n    else {\n      const { hostname: r, pathname: i } = new URL(e, window.location.href);\n      if (r !== \"t.me\")\n        throw new Error(`Incorrect hostname: ${r}`);\n      const o = i.match(/^\\/(\\$|invoice\\/)([A-Za-z0-9\\-_=]+)$/);\n      if (!o)\n        throw new Error('Link pathname has incorrect format. Expected to receive \"/invoice/{slug}\" or \"/${slug}\"');\n      [, , n] = o;\n    }\n    this.isOpened = !0;\n    try {\n      return (await d({\n        method: \"web_app_open_invoice\",\n        event: \"invoice_closed\",\n        params: { slug: n },\n        postEvent: this.postEvent,\n        capture(i) {\n          return n === i.slug;\n        }\n      })).status;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n}\nconst hs = l(\n  ({ version: s, postEvent: e }) => new Nt(!1, s, e)\n);\nclass Vt extends Y {\n  constructor({ postEvent: t, ...n }) {\n    super(n);\n    c(this, \"postEvent\");\n    /**\n     * Adds a new event listener.\n     * @param event - event to listen.\n     * @param listener - listener to add.\n     */\n    c(this, \"on\", (t, n) => t === \"click\" ? w(\"main_button_pressed\", n) : this.state.on(t, n));\n    /**\n     * Removes the event listener.\n     * @param event - event to listen.\n     * @param listener - listener to remove.\n     */\n    c(this, \"off\", (t, n) => t === \"click\" ? B(\"main_button_pressed\", n) : this.state.off(t, n));\n    this.postEvent = t;\n  }\n  /**\n   * The MainButton background color.\n   */\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  /**\n   * Sends current local state to the Telegram application.\n   */\n  commit() {\n    this.text !== \"\" && this.postEvent(\"web_app_setup_main_button\", {\n      is_visible: this.isVisible,\n      is_active: this.isEnabled,\n      is_progress_visible: this.isLoaderVisible,\n      text: this.text,\n      color: this.bgColor,\n      text_color: this.textColor\n    });\n  }\n  /**\n   * Disables the MainButton.\n   * @see Does not work on Android: https://github.com/Telegram-Mini-Apps/issues/issues/1\n   */\n  disable() {\n    return this.isEnabled = !1, this;\n  }\n  /**\n   * Enables the MainButton.\n   */\n  enable() {\n    return this.isEnabled = !0, this;\n  }\n  /**\n   * Hides the MainButton.\n   */\n  hide() {\n    return this.isVisible = !1, this;\n  }\n  /**\n   * Hides the MainButton loading indicator.\n   */\n  hideLoader() {\n    return this.isLoaderVisible = !1, this;\n  }\n  set isEnabled(t) {\n    this.setParams({ isEnabled: t });\n  }\n  /**\n   * True if the MainButton is enabled.\n   */\n  get isEnabled() {\n    return this.get(\"isEnabled\");\n  }\n  set isLoaderVisible(t) {\n    this.setParams({ isLoaderVisible: t });\n  }\n  /**\n   * True if the MainButton loader is visible.\n   */\n  get isLoaderVisible() {\n    return this.get(\"isLoaderVisible\");\n  }\n  set isVisible(t) {\n    this.setParams({ isVisible: t });\n  }\n  /**\n   * True if the MainButton is visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Shows the MainButton.\n   *\n   * Note that opening the Mini App from the attachment menu hides the main button until the\n   * user interacts with the Mini App interface.\n   */\n  show() {\n    return this.isVisible = !0, this;\n  }\n  /**\n   * Shows a loading indicator on the Main Button.\n   */\n  showLoader() {\n    return this.isLoaderVisible = !0, this;\n  }\n  /**\n   * Sets a new MainButton text. Minimal length for the text is 1 symbol, and maximum is 64 symbols.\n   * @param text - a new text.\n   */\n  setText(t) {\n    return this.setParams({ text: t });\n  }\n  /**\n   * Sets a new Main Button text color.\n   * @param textColor - new text color.\n   */\n  setTextColor(t) {\n    return this.setParams({ textColor: t });\n  }\n  /**\n   * Updates current Main Button color.\n   * @param bgColor - color to set.\n   */\n  setBgColor(t) {\n    return this.setParams({ bgColor: t });\n  }\n  /**\n   * Allows setting multiple Main Button parameters.\n   * @param params - Main Button parameters.\n   */\n  setParams(t) {\n    return this.set(t), this.commit(), this;\n  }\n  /**\n   * The MainButton text.\n   */\n  get text() {\n    return this.get(\"text\");\n  }\n  /**\n   * The MainButton text color.\n   */\n  get textColor() {\n    return this.get(\"textColor\");\n  }\n}\nconst us = l(\n  \"mainButton\",\n  ({\n    postEvent: s,\n    themeParams: e,\n    state: t = {\n      isVisible: !1,\n      isEnabled: !1,\n      text: \"\",\n      isLoaderVisible: !1,\n      textColor: e.buttonTextColor || \"#ffffff\",\n      bgColor: e.buttonColor || \"#000000\"\n    }\n  }) => new Vt({ ...t, postEvent: s })\n);\nfunction Dt() {\n  return K({\n    contact: g({\n      userId: {\n        type: y(),\n        from: \"user_id\"\n      },\n      phoneNumber: {\n        type: h(),\n        from: \"phone_number\"\n      },\n      firstName: {\n        type: h(),\n        from: \"first_name\"\n      },\n      lastName: {\n        type: h().optional(),\n        from: \"last_name\"\n      }\n    }),\n    authDate: {\n      type: Ee(),\n      from: \"auth_date\"\n    },\n    hash: h()\n  }, \"RequestedContact\");\n}\nfunction Ve(s, e) {\n  return (t) => {\n    const [n, r] = e[t];\n    return v(n, r, s);\n  };\n}\nfunction Mt(s) {\n  return new Promise((e) => {\n    setTimeout(e, s);\n  });\n}\nclass Bt extends P {\n  constructor({ postEvent: t, createRequestId: n, version: r, botInline: i, ...o }) {\n    super(o, r, {\n      requestPhoneAccess: \"web_app_request_phone\",\n      requestWriteAccess: \"web_app_request_write_access\",\n      switchInlineQuery: \"web_app_switch_inline_query\",\n      setHeaderColor: \"web_app_set_header_color\",\n      setBackgroundColor: \"web_app_set_background_color\"\n    });\n    c(this, \"botInline\");\n    c(this, \"postEvent\");\n    c(this, \"createRequestId\");\n    c(this, \"requestPhoneAccessPromise\");\n    c(this, \"requestWriteAccessPromise\");\n    /**\n     * Checks if specified method parameter is supported by current component.\n     */\n    c(this, \"supportsParam\");\n    this.createRequestId = n, this.postEvent = t, this.botInline = i;\n    const a = this.supports.bind(this);\n    this.supports = (p) => a(p) ? p !== \"switchInlineQuery\" || i : !1, this.supportsParam = Ve(r, {\n      \"setHeaderColor.color\": [\"web_app_set_header_color\", \"color\"],\n      \"close.returnBack\": [\"web_app_close\", \"return_back\"]\n    });\n  }\n  /**\n   * Attempts to get requested contact.\n   * @param timeout - request timeout.\n   */\n  async getRequestedContact({\n    timeout: t = 1e4\n  } = {}) {\n    return Dt().parse(\n      await C(\n        \"getRequestedContact\",\n        {},\n        this.createRequestId(),\n        { postEvent: this.postEvent, timeout: t }\n      )\n    );\n  }\n  /**\n   * The Mini App background color.\n   * @example \"#ffaabb\"\n   */\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  /**\n   * Closes the Mini App.\n   * @param returnBack - should the application be wrapped into the bottom bar.\n   */\n  close(t) {\n    this.postEvent(\"web_app_close\", this.supportsParam(\"close.returnBack\") ? { return_back: t } : {});\n  }\n  /**\n   * The Mini App header color.\n   * @example \"#ffaabb\"\n   * @example \"bg_color\"\n   */\n  get headerColor() {\n    return this.get(\"headerColor\");\n  }\n  /**\n   * True if the Mini App is currently launched in bot inline mode.\n   */\n  get isBotInline() {\n    return this.botInline;\n  }\n  /**\n   * True if the current Mini App background color is recognized as dark.\n   */\n  get isDark() {\n    return ye(this.bgColor);\n  }\n  /**\n   * Informs the Telegram app that the Mini App is ready to be displayed.\n   *\n   * It is recommended to call this method as early as possible, as soon as all essential\n   * interface elements loaded. Once this method called, the loading placeholder is hidden\n   * and the Mini App shown.\n   *\n   * If the method not called, the placeholder will be hidden only when the page fully loaded.\n   */\n  ready() {\n    this.postEvent(\"web_app_ready\");\n  }\n  /**\n   * Requests current user contact information. In contrary to requestPhoneAccess, this method\n   * returns promise with contact information that rejects in case, user denied access, or request\n   * failed.\n   * @param options - additional options.\n   */\n  async requestContact({ timeout: t = 5e3 } = {}) {\n    try {\n      return await this.getRequestedContact();\n    } catch {\n    }\n    if (await this.requestPhoneAccess() !== \"sent\")\n      throw new Error(\"Access denied.\");\n    const r = Date.now() + t;\n    let i = 50;\n    return be(async () => {\n      for (; Date.now() < r; ) {\n        try {\n          return await this.getRequestedContact();\n        } catch {\n        }\n        await Mt(i), i += 50;\n      }\n      throw we(t);\n    }, t);\n  }\n  /**\n   * Requests current user phone access. Method returns promise, which resolves\n   * status of the request. In case, user accepted the request, Mini App bot will receive\n   * the according notification.\n   *\n   * To obtain the retrieved information instead, utilize the `requestContact` method.\n   * @param options - additional options.\n   * @see requestContact\n   */\n  async requestPhoneAccess(t = {}) {\n    return this.requestPhoneAccessPromise || (this.requestPhoneAccessPromise = d({\n      ...t,\n      method: \"web_app_request_phone\",\n      event: \"phone_requested\",\n      postEvent: this.postEvent\n    }).then(({ status: n }) => n).finally(() => this.requestPhoneAccessPromise = void 0)), this.requestPhoneAccessPromise;\n  }\n  /**\n   * Requests write message access to current user.\n   * @param options - additional options.\n   */\n  async requestWriteAccess(t = {}) {\n    return this.requestWriteAccessPromise || (this.requestWriteAccessPromise = d({\n      ...t,\n      method: \"web_app_request_write_access\",\n      event: \"write_access_requested\",\n      postEvent: this.postEvent\n    }).then(({ status: n }) => n).finally(() => this.requestWriteAccessPromise = void 0)), this.requestWriteAccessPromise;\n  }\n  /**\n   * A method used to send data to the bot. When this method called, a service message sent to\n   * the bot containing the data of the length up to 4096 bytes, and the Mini App closed. See the\n   * field `web_app_data` in the class [Message](https://core.telegram.org/bots/api#message).\n   *\n   * This method is only available for Mini Apps launched via a Keyboard button.\n   * @param data - data to send to bot.\n   * @throws {Error} data has incorrect size.\n   */\n  sendData(t) {\n    const { size: n } = new Blob([t]);\n    if (!n || n > 4096)\n      throw new Error(`Passed data has incorrect size: ${n}`);\n    this.postEvent(\"web_app_data_send\", { data: t });\n  }\n  /**\n   * Updates current Mini App header color.\n   *\n   * @see No effect on desktop: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/9\n   * @see Works incorrectly in Android: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/8\n   * @param color - color key or RGB color.\n   */\n  setHeaderColor(t) {\n    this.postEvent(\"web_app_set_header_color\", Q(t) ? { color: t } : { color_key: t }), this.set(\"headerColor\", t);\n  }\n  /**\n   * Updates current Mini App background color.\n   *\n   * @see No effect on desktop: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/9\n   * @see Works incorrectly in Android: https://github.com/Telegram-Mini-Apps/telegram-apps/issues/8\n   * @param color - RGB color.\n   */\n  setBgColor(t) {\n    this.postEvent(\"web_app_set_background_color\", { color: t }), this.set(\"bgColor\", t);\n  }\n  /**\n   * Inserts the bot's username and the specified inline query in the current chat's input field.\n   * Query may be empty, in which case only the bot's username will be inserted. The client prompts\n   * the user to choose a specific chat, then opens that chat and inserts the bot's username and\n   * the specified inline query in the input field.\n   * @param text - text which should be inserted in the input after the current bot name. Max\n   * length is 256 symbols.\n   * @param chatTypes - List of chat types which could be chosen to send the message. Could be\n   * empty list.\n   */\n  switchInlineQuery(t, n = []) {\n    if (!this.supports(\"switchInlineQuery\") && !this.isBotInline)\n      throw new Error(\"Method is unsupported because Mini App should be launched in inline mode.\");\n    this.postEvent(\"web_app_switch_inline_query\", { query: t, chat_types: n });\n  }\n}\nconst ls = l(\n  \"miniApp\",\n  ({\n    themeParams: s,\n    botInline: e = !1,\n    state: t = {\n      bgColor: s.bgColor || \"#ffffff\",\n      headerColor: s.headerBgColor || \"#000000\"\n    },\n    ...n\n  }) => new Bt({ ...n, ...t, botInline: e })\n);\nfunction Lt(s) {\n  const e = s.message.trim(), t = (s.title || \"\").trim(), n = s.buttons || [];\n  let r;\n  if (t.length > 64)\n    throw new Error(`Title has incorrect size: ${t.length}`);\n  if (!e.length || e.length > 256)\n    throw new Error(`Message has incorrect size: ${e.length}`);\n  if (n.length > 3)\n    throw new Error(`Buttons have incorrect size: ${n.length}`);\n  return n.length ? r = n.map((i) => {\n    const { id: o = \"\" } = i;\n    if (o.length > 64)\n      throw new Error(`Button ID has incorrect size: ${o}`);\n    if (!i.type || i.type === \"default\" || i.type === \"destructive\") {\n      const a = i.text.trim();\n      if (!a.length || a.length > 64) {\n        const p = i.type || \"default\";\n        throw new Error(`Button text with type \"${p}\" has incorrect size: ${i.text.length}`);\n      }\n      return { ...i, text: a, id: o };\n    }\n    return { ...i, id: o };\n  }) : r = [{ type: \"close\", id: \"\" }], { title: t, message: e, buttons: r };\n}\nclass $t extends P {\n  constructor(e, t, n) {\n    super({ isOpened: e }, t, { open: \"web_app_open_popup\" }), this.postEvent = n;\n  }\n  set isOpened(e) {\n    this.set(\"isOpened\", e);\n  }\n  /**\n   * True if the Popup is opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  /**\n   * A method that shows a native popup described by the `params` argument.\n   * Promise will be resolved when popup is closed. Resolved value will have\n   * an identifier of pressed button.\n   *\n   * In case, user clicked outside the popup or clicked top right popup close\n   * button, null will be returned.\n   *\n   * @param options - popup parameters.\n   * @throws {Error} Popup is already opened.\n   */\n  async open(e) {\n    if (this.isOpened)\n      throw new Error(\"Popup is already opened.\");\n    this.isOpened = !0;\n    try {\n      const { button_id: t = null } = await d({\n        event: \"popup_closed\",\n        method: \"web_app_open_popup\",\n        postEvent: this.postEvent,\n        params: Lt(e)\n      });\n      return t;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n}\nconst ds = l(\n  ({ postEvent: s, version: e }) => new $t(!1, e, s)\n);\nclass Wt extends P {\n  constructor(e, t, n) {\n    super({ isOpened: e }, t, {\n      close: \"web_app_close_scan_qr_popup\",\n      open: \"web_app_open_scan_qr_popup\"\n    }), this.postEvent = n;\n  }\n  /**\n   * Closes the scanner.\n   */\n  close() {\n    this.postEvent(\"web_app_close_scan_qr_popup\"), this.isOpened = !1;\n  }\n  set isOpened(e) {\n    this.set(\"isOpened\", e);\n  }\n  /**\n   * Returns true if the scanner is currently opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  async open(e) {\n    if (this.isOpened)\n      throw new Error(\"The scanner is already opened\");\n    const { text: t, capture: n } = (typeof e == \"string\" ? { text: e } : e) || {};\n    this.isOpened = !0;\n    try {\n      const i = (await d({\n        method: \"web_app_open_scan_qr_popup\",\n        event: [\"qr_text_received\", \"scan_qr_popup_closed\"],\n        postEvent: this.postEvent,\n        params: { text: t },\n        capture(o) {\n          return o.event === \"scan_qr_popup_closed\" || !n || n(o.payload);\n        }\n      }) || {}).data || null;\n      return i && this.close(), i;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n  // TODO: Streaming mode, allowing to scan several QRs until closed.\n}\nconst _s = l(\n  ({ version: s, postEvent: e }) => new Wt(!1, s, e)\n);\nclass Ut extends Z {\n  constructor(t, n, r) {\n    super({ isVisible: t }, n, {\n      show: \"web_app_setup_settings_button\",\n      hide: \"web_app_setup_settings_button\"\n    });\n    /**\n     * Adds a new event listener.\n     * @param event - event to listen.\n     * @param listener - listener to add.\n     */\n    c(this, \"on\", (t, n) => t === \"click\" ? w(\"settings_button_pressed\", n) : this.state.on(t, n));\n    /**\n     * Removes the event listener.\n     * @param event - event to listen.\n     * @param listener - listener to remove.\n     */\n    c(this, \"off\", (t, n) => t === \"click\" ? B(\"settings_button_pressed\", n) : this.state.off(t, n));\n    this.postEvent = r;\n  }\n  set isVisible(t) {\n    this.set(\"isVisible\", t), this.postEvent(\"web_app_setup_settings_button\", { is_visible: t });\n  }\n  /**\n   * True if the SettingsButton is visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Hides the SettingsButton.\n   */\n  hide() {\n    this.isVisible = !1;\n  }\n  /**\n   * Shows the SettingsButton.\n   */\n  show() {\n    this.isVisible = !0;\n  }\n}\nconst fs = l(\n  \"settingsButton\",\n  ({\n    version: s,\n    postEvent: e,\n    state: t = { isVisible: !1 }\n  }) => new Ut(t.isVisible, s, e)\n);\nclass Ht extends P {\n  constructor(e, t, n) {\n    super({ isVerticalSwipeEnabled: e }, t, {\n      disableVerticalSwipe: \"web_app_setup_swipe_behavior\",\n      enableVerticalSwipe: \"web_app_setup_swipe_behavior\"\n    }), this.postEvent = n;\n  }\n  set isVerticalSwipeEnabled(e) {\n    this.set(\"isVerticalSwipeEnabled\", e), this.postEvent(\"web_app_setup_swipe_behavior\", { allow_vertical_swipe: e });\n  }\n  /**\n   * True, if the vertical swipe enabled.\n   */\n  get isVerticalSwipeEnabled() {\n    return this.get(\"isVerticalSwipeEnabled\");\n  }\n  /**\n   * Disables the vertical swipe.\n   */\n  disableVerticalSwipe() {\n    this.isVerticalSwipeEnabled = !1;\n  }\n  /**\n   * Enables the vertical swipe.\n   */\n  enableVerticalSwipe() {\n    this.isVerticalSwipeEnabled = !0;\n  }\n}\nconst gs = l(\n  \"swipeBehavior\",\n  ({\n    postEvent: s,\n    state: e = { isVerticalSwipeEnabled: !0 },\n    version: t\n  }) => new Ht(e.isVerticalSwipeEnabled, t, s)\n);\nfunction De(s) {\n  return Pe().parse(s);\n}\nclass Ot extends ee {\n  /**\n   * @since v6.10\n   */\n  get accentTextColor() {\n    return this.get(\"accentTextColor\");\n  }\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  get buttonColor() {\n    return this.get(\"buttonColor\");\n  }\n  get buttonTextColor() {\n    return this.get(\"buttonTextColor\");\n  }\n  get destructiveTextColor() {\n    return this.get(\"destructiveTextColor\");\n  }\n  /**\n   * Returns the copy of the internal state of the current component instance.\n   */\n  getState() {\n    return this.clone();\n  }\n  /**\n   * @since v6.10\n   */\n  get headerBgColor() {\n    return this.get(\"headerBgColor\");\n  }\n  get hintColor() {\n    return this.get(\"hintColor\");\n  }\n  /**\n   * @returns True in case, current color scheme is recognized as dark. This\n   * value is calculated according to theme bg color.\n   */\n  get isDark() {\n    return !this.bgColor || ye(this.bgColor);\n  }\n  get linkColor() {\n    return this.get(\"linkColor\");\n  }\n  get secondaryBgColor() {\n    return this.get(\"secondaryBgColor\");\n  }\n  /**\n   * @since v6.10\n   */\n  get sectionBgColor() {\n    return this.get(\"sectionBgColor\");\n  }\n  /**\n   * @since v6.10\n   */\n  get sectionHeaderTextColor() {\n    return this.get(\"sectionHeaderTextColor\");\n  }\n  /**\n   * @since v7.6\n   */\n  get sectionSeparatorColor() {\n    return this.get(\"sectionHeaderTextColor\");\n  }\n  /**\n   * Starts listening to the external theme changes and applies them.\n   * @returns Function to stop listening.\n   */\n  listen() {\n    return w(\"theme_changed\", (e) => {\n      this.set(De(e.theme_params));\n    });\n  }\n  /**\n   * @since v6.10\n   */\n  get subtitleTextColor() {\n    return this.get(\"subtitleTextColor\");\n  }\n  get textColor() {\n    return this.get(\"textColor\");\n  }\n}\nconst ws = l(\n  \"themeParams\",\n  ({ themeParams: s, state: e = s, addCleanup: t }) => {\n    const n = new Ot(e);\n    return t(n.listen()), n;\n  }\n);\nfunction bs(s = {}) {\n  return d({\n    ...s,\n    method: \"web_app_request_theme\",\n    event: \"theme_changed\"\n  }).then(De);\n}\nfunction I(s, e) {\n  return s.startsWith(e) ? s : `${e}${s}`;\n}\nfunction q(s) {\n  return new URL(\n    typeof s == \"string\" ? s : `${s.pathname || \"\"}${I(s.search || \"\", \"?\")}${I(s.hash || \"\", \"#\")}`,\n    \"http://a\"\n  );\n}\nclass Gt extends te {\n  constructor(t, n, r) {\n    super(t, { readTextFromClipboard: \"web_app_read_text_from_clipboard\" });\n    /**\n     * Checks if specified method parameter is supported by current component.\n     */\n    c(this, \"supportsParam\");\n    this.version = t, this.createRequestId = n, this.postEvent = r, this.supportsParam = Ve(t, {\n      \"openLink.tryInstantView\": [\"web_app_open_link\", \"try_instant_view\"]\n    });\n  }\n  openLink(t, n) {\n    const r = q(t).toString();\n    if (!v(\"web_app_open_link\", this.version)) {\n      window.open(r, \"_blank\");\n      return;\n    }\n    const i = typeof n == \"boolean\" ? { tryInstantView: n } : n || {};\n    this.postEvent(\"web_app_open_link\", {\n      url: r,\n      try_browser: i.tryBrowser,\n      try_instant_view: i.tryInstantView\n    });\n  }\n  /**\n   * Opens a Telegram link inside Telegram app. The Mini App will be closed. It expects passing\n   * link in full format, with hostname \"t.me\".\n   * @param url - URL to be opened.\n   * @throws {Error} URL has not allowed hostname.\n   */\n  openTelegramLink(t) {\n    const { hostname: n, pathname: r, search: i } = new URL(t, \"https://t.me\");\n    if (n !== \"t.me\")\n      throw new Error(`URL has not allowed hostname: ${n}. Only \"t.me\" is allowed`);\n    if (!v(\"web_app_open_tg_link\", this.version)) {\n      window.location.href = t;\n      return;\n    }\n    this.postEvent(\"web_app_open_tg_link\", { path_full: r + i });\n  }\n  /**\n   * Reads text from clipboard and returns string or null. null is returned\n   * in cases:\n   * - Value in clipboard is not text\n   * - Access to clipboard is not allowed\n   */\n  async readTextFromClipboard() {\n    const t = this.createRequestId(), {\n      data: n = null\n    } = await d({\n      method: \"web_app_read_text_from_clipboard\",\n      event: \"clipboard_text_received\",\n      postEvent: this.postEvent,\n      params: { req_id: t },\n      capture: ge(t)\n    });\n    return n;\n  }\n  /**\n   * Shares specified URL with the passed to the chats, selected by user. After being called,\n   * it closes the mini application.\n   *\n   * This method uses Telegram's Share Links.\n   * @param url - URL to share.\n   * @param text - text to append after the URL.\n   * @see https://core.telegram.org/api/links#share-links\n   * @see https://core.telegram.org/widgets/share#custom-buttons\n   */\n  shareURL(t, n) {\n    this.openTelegramLink(\n      \"https://t.me/share/url?\" + new URLSearchParams({ url: t, text: n || \"\" }).toString().replace(/\\+/g, \"%20\")\n    );\n  }\n}\nconst ms = l(\n  ({ version: s, postEvent: e, createRequestId: t }) => new Gt(s, t, e)\n);\nasync function Me(s = {}) {\n  const {\n    is_expanded: e,\n    is_state_stable: t,\n    ...n\n  } = await d({\n    ...s,\n    method: \"web_app_request_viewport\",\n    event: \"viewport_changed\"\n  });\n  return { ...n, isExpanded: e, isStateStable: t };\n}\nfunction x(s) {\n  return s < 0 ? 0 : s;\n}\nclass jt extends ee {\n  constructor({ postEvent: t, stableHeight: n, height: r, width: i, isExpanded: o }) {\n    super({\n      height: x(r),\n      isExpanded: o,\n      stableHeight: x(n),\n      width: x(i)\n    });\n    c(this, \"postEvent\");\n    this.postEvent = t;\n  }\n  /**\n   * Requests viewport information from the Telegram application and updates current Viewport\n   * instance.\n   * @param options - options to request fresh data.\n   */\n  async sync(t) {\n    const { isStateStable: n, ...r } = await Me(t);\n    this.set({\n      ...r,\n      stableHeight: n ? r.height : this.get(\"stableHeight\")\n    });\n  }\n  /**\n   * The current height of the **visible area** of the Mini App.\n   *\n   * The application can display just the top part of the Mini App, with its lower part remaining\n   * outside the screen area. From this position, the user can \"pull\" the Mini App to its\n   * maximum height, while the bot can do the same by calling `expand` method. As the position of\n   * the Mini App changes, the current height value of the visible area will be updated  in real\n   * time.\n   *\n   * Please note that the refresh rate of this value is not sufficient to smoothly follow the\n   * lower border of the window. It should not be used to pin interface elements to the bottom\n   * of the visible area. It's more appropriate to use the value of the `stableHeight`\n   * field for this purpose.\n   *\n   * @see stableHeight\n   */\n  get height() {\n    return this.get(\"height\");\n  }\n  /**\n   * The height of the visible area of the Mini App in its last stable state.\n   *\n   * The application can display just the top part of the Mini App, with its lower part remaining\n   * outside the screen area. From this position, the user can \"pull\" the Mini App to its\n   * maximum height, while the application can do the same by calling `expand` method.\n   *\n   * Unlike the value of `height`, the value of `stableHeight` does not change as the position\n   * of the Mini App changes with user gestures or during animations. The value of `stableHeight`\n   * will be updated after all gestures and animations are completed and\n   * the Mini App reaches its final size.\n   *\n   * @see height\n   */\n  get stableHeight() {\n    return this.get(\"stableHeight\");\n  }\n  /**\n   * Starts listening to viewport changes and applies them.\n   * @returns Function to stop listening.\n   */\n  listen() {\n    return w(\"viewport_changed\", (t) => {\n      const {\n        height: n,\n        width: r,\n        is_expanded: i,\n        is_state_stable: o\n      } = t, a = x(n);\n      this.set({\n        height: a,\n        isExpanded: i,\n        width: x(r),\n        ...o ? { stableHeight: a } : {}\n      });\n    });\n  }\n  /**\n   * True if the Mini App is expanded to the maximum available height. Otherwise, if\n   * the Mini App occupies part of the screen and can be expanded to the full height using\n   * `expand` method.\n   * @see expand\n   */\n  get isExpanded() {\n    return this.get(\"isExpanded\");\n  }\n  /**\n   * Current visible area width.\n   */\n  get width() {\n    return this.get(\"width\");\n  }\n  /**\n   * A method that expands the Mini App to the maximum available height. To find out if the Mini\n   * App is expanded to the maximum height, refer to the value of the `isExpanded`.\n   * @see isExpanded\n   */\n  expand() {\n    this.postEvent(\"web_app_expand\"), this.set(\"isExpanded\", !0);\n  }\n  /**\n   * True if the current viewport height is stable and is not going to change in the next moment.\n   */\n  get isStable() {\n    return this.stableHeight === this.height;\n  }\n}\nconst ys = l(\n  \"viewport\",\n  async ({ state: s, platform: e, postEvent: t, addCleanup: n }) => {\n    let r = !1, i = 0, o = 0, a = 0;\n    if (s)\n      r = s.isExpanded, i = s.height, o = s.width, a = s.stableHeight;\n    else if ([\"macos\", \"tdesktop\", \"unigram\", \"webk\", \"weba\", \"web\"].includes(e))\n      r = !0, i = window.innerHeight, o = window.innerWidth, a = window.innerHeight;\n    else {\n      const u = await Me({ timeout: 1e3, postEvent: t });\n      r = u.isExpanded, i = u.height, o = u.width, a = u.isStateStable ? i : 0;\n    }\n    const p = new jt({\n      postEvent: t,\n      height: i,\n      width: o,\n      stableHeight: a,\n      isExpanded: r\n    });\n    return n(p.listen()), p;\n  }\n);\nfunction m(s, e) {\n  document.documentElement.style.setProperty(s, e);\n}\nfunction vs(s, e, t) {\n  t || (t = (a) => `--tg-${a}-color`);\n  const n = t(\"header\"), r = t(\"bg\"), i = () => {\n    const { headerColor: a } = s;\n    if (Q(a))\n      m(n, a);\n    else {\n      const { bgColor: p, secondaryBgColor: u } = e;\n      a === \"bg_color\" && p ? m(n, p) : a === \"secondary_bg_color\" && u && m(n, u);\n    }\n    m(r, s.bgColor);\n  }, o = [\n    e.on(\"change\", i),\n    s.on(\"change\", i)\n  ];\n  return i(), () => o.forEach((a) => a());\n}\nfunction Es(s, e) {\n  e || (e = (n) => `--tg-theme-${n.replace(/[A-Z]/g, (r) => `-${r.toLowerCase()}`)}`);\n  const t = () => {\n    Object.entries(s.getState()).forEach(([n, r]) => {\n      r && m(e(n), r);\n    });\n  };\n  return t(), s.on(\"change\", t);\n}\nfunction Ss(s, e) {\n  e || (e = (u) => `--tg-viewport-${u}`);\n  const [\n    t,\n    n,\n    r\n  ] = [\"height\", \"width\", \"stable-height\"].map((u) => e(u)), i = () => m(t, `${s.height}px`), o = () => m(n, `${s.width}px`), a = () => m(r, `${s.stableHeight}px`), p = [\n    s.on(\"change:height\", i),\n    s.on(\"change:width\", o),\n    s.on(\"change:stableHeight\", a)\n  ];\n  return i(), o(), a(), () => p.forEach((u) => u());\n}\nfunction Ps(s = !0) {\n  const e = [\n    w(\"reload_iframe\", () => {\n      A(\"iframe_will_reload\"), window.location.reload();\n    })\n  ], t = () => e.forEach((n) => n());\n  if (s) {\n    const n = document.createElement(\"style\");\n    n.id = \"telegram-custom-styles\", document.head.appendChild(n), e.push(\n      w(\"set_custom_style\", (r) => {\n        n.innerHTML = r;\n      }),\n      () => document.head.removeChild(n)\n    );\n  }\n  return A(\"iframe_ready\", { reload_supported: !0 }), t;\n}\nfunction xs() {\n  return typeof window > \"u\";\n}\nasync function Cs() {\n  if (de(window))\n    return !0;\n  try {\n    return await d({ method: \"web_app_request_theme\", event: \"theme_changed\", timeout: 100 }), !0;\n  } catch {\n    return !1;\n  }\n}\nfunction Ts(s) {\n  const e = typeof s == \"string\" ? X(s) : s;\n  qe(e);\n  function t(r) {\n    if (typeof r == \"string\")\n      try {\n        const { eventType: i } = ue(r);\n        i === \"web_app_request_theme\" && j(\"theme_changed\", {\n          theme_params: JSON.parse(Ie(e.themeParams))\n        }), i === \"web_app_request_viewport\" && j(\"viewport_changed\", {\n          width: window.innerWidth,\n          height: window.innerHeight,\n          is_state_stable: !0,\n          is_expanded: !0\n        });\n      } catch {\n      }\n  }\n  if (_e()) {\n    const r = window.parent.postMessage.bind(window.parent);\n    window.parent.postMessage = (i) => {\n      t(i), r(i);\n    };\n    return;\n  }\n  if (le(window)) {\n    const r = window.external.notify.bind(window.external);\n    window.external.notify = (i) => {\n      t(i), r(i);\n    };\n    return;\n  }\n  const n = window.TelegramWebviewProxy;\n  window.TelegramWebviewProxy = {\n    ...n || {},\n    postEvent(...r) {\n      t(JSON.stringify({ eventType: r[0], eventData: r[1] })), n && n.postEvent(...r);\n    }\n  };\n}\nfunction zt(s) {\n  return s instanceof V;\n}\nfunction Rs(s, e) {\n  return zt(s) && s.type === e;\n}\nfunction L(s, e) {\n  let t, n, r;\n  return typeof s == \"string\" ? t = s : (t = s.pathname === void 0 ? e : s.pathname, n = s.params, r = s.id), Object.freeze({\n    id: r || (Math.random() * 2 ** 14 | 0).toString(16),\n    pathname: t,\n    params: n\n  });\n}\nclass Ft {\n  constructor(e, t, n = A) {\n    /**\n     * Navigation history.\n     */\n    c(this, \"history\");\n    c(this, \"ee\", new R());\n    /**\n     * True, if current navigator is currently attached.\n     */\n    c(this, \"attached\", !1);\n    /**\n     * Goes to the previous history item.\n     */\n    c(this, \"back\", () => this.go(-1));\n    /**\n     * Adds new event listener.\n     */\n    c(this, \"on\", this.ee.on.bind(this.ee));\n    /**\n     * Removes event listener.\n     */\n    c(this, \"off\", this.ee.off.bind(this.ee));\n    if (this._index = t, this.postEvent = n, e.length === 0)\n      throw f(Ze, \"History should not be empty.\");\n    if (t < 0 || t >= e.length)\n      throw f(\n        Ke,\n        \"Index should not be zero and higher or equal than history size.\"\n      );\n    this.history = e.map((r) => L(r, \"\"));\n  }\n  /**\n   * Allows this navigator to control the `BackButton` visibility state. It also tracks the\n   * `BackButton` clicks and calls the `back` method.\n   */\n  attach() {\n    this.attached || (this.attached = !0, this.sync(), w(\"back_button_pressed\", this.back));\n  }\n  /**\n   * Currently active history item.\n   */\n  get current() {\n    return this.history[this.index];\n  }\n  /**\n   * Prevents current navigator from controlling the BackButton visibility state.\n   */\n  detach() {\n    this.attached = !1, B(\"back_button_pressed\", this.back);\n  }\n  /**\n   * Goes to the next history item.\n   */\n  forward() {\n    this.go(1);\n  }\n  /**\n   * Changes currently active history item index by the specified delta. This method doesn't\n   * change index in case, the updated index points to the non-existing history item. This behavior\n   * is preserved until the `fit` argument is specified.\n   * @param delta - index delta.\n   * @param fit - cuts the delta argument to fit the bounds `[0, history.length - 1]`.\n   */\n  go(e, t) {\n    const n = this.index + e, r = Math.min(\n      Math.max(0, n),\n      this.history.length - 1\n    );\n    (n === r || t) && this.replaceAndMove(r, this.history[r]);\n  }\n  /**\n   * Goes to the specified index. Method does nothing in case, passed index is out of bounds.\n   *\n   * If \"fit\" option was specified and index is out of bounds, it will be cut to the nearest\n   * bound.\n   * @param index - target index.\n   * @param fit - cuts the index argument to fit the bounds `[0, history.length - 1]`.\n   */\n  goTo(e, t) {\n    this.go(e - this.index, t);\n  }\n  /**\n   * True if navigator has items before the current item.\n   */\n  get hasPrev() {\n    return this.index > 0;\n  }\n  /**\n   * True if navigator has items after the current item.\n   */\n  get hasNext() {\n    return this.index !== this.history.length - 1;\n  }\n  /**\n   * Currently active history item index.\n   */\n  get index() {\n    return this._index;\n  }\n  /**\n   * Adds a new history item removing all after the current one.\n   * @param item - item to add.\n   */\n  push(e) {\n    this.hasNext && this.history.splice(this.index + 1), this.replaceAndMove(this.index + 1, L(e, this.current.pathname));\n  }\n  /**\n   * Replaces the current history item.\n   * @param item - item to replace the current item with.\n   */\n  replace(e) {\n    this.replaceAndMove(this.index, L(e, this.current.pathname));\n  }\n  /**\n   * Sets history item by the specified index.\n   * @param index - history item index to replace.\n   * @param historyItem - history item to set.\n   */\n  replaceAndMove(e, t) {\n    const n = e - this.index;\n    if (!n && this.current === t)\n      return;\n    const r = this.current;\n    if (this.index !== e) {\n      const i = this._index;\n      this._index = e, this.attached && i > 0 != e > 0 && this.sync();\n    }\n    this.history[e] = t, this.ee.emit(\"change\", {\n      navigator: this,\n      from: r,\n      to: this.current,\n      delta: n\n    });\n  }\n  /**\n   * Actualizes the `BackButton` visibility state.\n   */\n  sync() {\n    this.postEvent(\"web_app_setup_back_button\", { is_visible: !!this.index });\n  }\n}\nfunction $({\n  params: s,\n  ...e\n}) {\n  return { ...s || { hash: \"\", search: \"\" }, ...e };\n}\nfunction N(s) {\n  const e = typeof s == \"string\" ? s.startsWith(\"/\") : !!(s.pathname && s.pathname.startsWith(\"/\")), t = q(s);\n  return `${e ? t.pathname : t.pathname.slice(1)}${t.search}${t.hash}`;\n}\nfunction W(s, e, t) {\n  let n, r;\n  typeof s == \"string\" ? n = s : (n = N(s), t = s.state, r = s.id);\n  const { pathname: i, search: o, hash: a } = new URL(n, `http://a${I(e, \"/\")}`);\n  return { id: r, pathname: i, params: { hash: a, search: o, state: t } };\n}\nasync function T(s) {\n  return s === 0 ? !0 : Promise.race([\n    new Promise((e) => {\n      const t = G(\"popstate\", () => {\n        t(), e(!0);\n      });\n      window.history.go(s);\n    }),\n    // Usually, it takes about 1ms to emit this event, but we use some buffer.\n    new Promise((e) => {\n      setTimeout(e, 50, !1);\n    })\n  ]);\n}\nasync function Jt() {\n  if (window.history.length <= 1 || (window.history.pushState(null, \"\"), await T(1 - window.history.length)))\n    return;\n  let e = await T(-1);\n  for (; e; )\n    e = await T(-1);\n}\nfunction Be(s) {\n  return q(s).pathname;\n}\nconst ie = 0, U = 1, H = 2;\nclass Le {\n  constructor(e, t, { postEvent: n, hashMode: r = \"classic\", base: i } = {}) {\n    c(this, \"navigator\");\n    c(this, \"ee\", new R());\n    c(this, \"hashMode\");\n    c(this, \"base\");\n    /**\n     * Shows whether the navigator is currently attached to the browser history.\n     */\n    c(this, \"attached\", !1);\n    /**\n     * Handles the window \"popstate\" event.\n     * @param state - event state.\n     */\n    c(this, \"onPopState\", ({ state: e }) => {\n      if (e === null)\n        return this.push(this.parsePath(window.location.href));\n      e === ie ? window.history.forward() : e === U && this.back(), e === H && this.forward();\n    });\n    /**\n     * Underlying navigator change event listener.\n     */\n    c(this, \"onNavigatorChange\", async ({\n      to: e,\n      from: t,\n      delta: n\n    }) => {\n      this.attached && await this.syncHistory(), this.ee.emit(\"change\", {\n        delta: n,\n        from: $(t),\n        to: $(e),\n        navigator: this\n      });\n    });\n    /**\n     * Adds new event listener.\n     */\n    c(this, \"on\", this.ee.on.bind(this.ee));\n    /**\n     * Removes event listener.\n     */\n    c(this, \"off\", this.ee.off.bind(this.ee));\n    this.navigator = new Ft(\n      e.map((o) => W(o, \"/\")),\n      t,\n      n\n    ), this.navigator.on(\"change\", (o) => {\n      this.onNavigatorChange(o);\n    }), this.hashMode = r, this.base = Be(i || \"\");\n  }\n  /**\n   * Attaches current navigator to the browser history allowing navigator to manipulate it.\n   */\n  async attach() {\n    this.attached || (this.attached = !0, this.navigator.attach(), window.addEventListener(\"popstate\", this.onPopState), await this.syncHistory());\n  }\n  /**\n   * Goes back in history by 1.\n   */\n  back() {\n    this.navigator.back();\n  }\n  /**\n   * Detaches current navigator from the browser history.\n   */\n  detach() {\n    this.attached = !1, this.navigator.detach(), window.removeEventListener(\"popstate\", this.onPopState);\n  }\n  /**\n   * Goes forward in history.\n   */\n  forward() {\n    return this.navigator.forward();\n  }\n  /**\n   * Current history cursor.\n   */\n  get index() {\n    return this.navigator.index;\n  }\n  /**\n   * Current history item identifier.\n   */\n  get id() {\n    return this.navigator.current.id;\n  }\n  /**\n   * Changes currently active history item index by the specified delta. This method doesn't\n   * change index in case, the updated index points to the non-existing history item. This behavior\n   * is preserved until the `fit` argument is specified.\n   * @param delta - index delta.\n   * @param fit - cuts the delta argument to fit the bounds `[0, history.length - 1]`.\n   */\n  go(e, t) {\n    return this.navigator.go(e, t);\n  }\n  /**\n   * Goes to the specified index. Method does nothing in case, passed index is out of bounds.\n   *\n   * If \"fit\" option was specified and index is out of bounds, it will be cut to the nearest\n   * bound.\n   * @param index - target index.\n   * @param fit - cuts the index argument to fit the bounds `[0, history.length - 1]`.\n   */\n  goTo(e, t) {\n    this.navigator.goTo(e, t);\n  }\n  /**\n   * Current history item hash.\n   * @see URL.hash\n   * @example\n   * \"\", \"#my-hash\"\n   */\n  get hash() {\n    return (this.navigator.current.params || {}).hash || \"\";\n  }\n  /**\n   * True if navigator has items before the current item.\n   */\n  get hasPrev() {\n    return this.navigator.hasPrev;\n  }\n  /**\n   * True if navigator has items after the current item.\n   */\n  get hasNext() {\n    return this.navigator.hasNext;\n  }\n  /**\n   * Navigation history.\n   */\n  get history() {\n    return this.navigator.history.map($);\n  }\n  /**\n   * Path, including pathname, search and hash.\n   * @example Pathname only.\n   * \"/pathname\"\n   * @example Pathname + search.\n   * \"/pathname?search\"\n   * @example Pathname + hash.\n   * \"/pathname#hash\"\n   * @example Pathname + search + hash.\n   * \"/pathname?search#hash\"\n   */\n  get path() {\n    return N(this);\n  }\n  /**\n   * Current pathname. Always starts with the slash.\n   * @see URL.pathname\n   * @example\n   * \"/\", \"/abc\"\n   */\n  get pathname() {\n    return this.navigator.current.pathname;\n  }\n  /**\n   * Depending on the current navigation type, parses incoming path and returns it presented as\n   * an object. In other words, this method parses the passed path and returns object, describing\n   * how the navigator \"sees\" it.\n   *\n   * @example Hash mode is omitted.\n   * parsePath('/abc?a=1#hash');\n   * // { pathname: '/abc', search: '?a=1', hash: '#hash' }\n   * parsePath('http://example.com/abc?a=1#hash');\n   * // { pathname: '/abc', search: '?a=1', hash: '#hash' }\n   *\n   * @example Hash mode is enabled.\n   * parsePath('/abc?a=1#tma?is=cool#yeah');\n   * // { pathname: '/tma', search: '?is=cool', hash: '#yeah' }\n   * parsePath('http://example.com/abc?a=1#tma?is=cool#yeah');\n   * // { pathname: '/tma', search: '?is=cool', hash: '#yeah' }\n   */\n  parsePath(e) {\n    let t = q(e);\n    return this.hashMode && (t = q(t.hash.slice(1))), {\n      pathname: t.pathname,\n      search: t.search,\n      hash: t.hash\n    };\n  }\n  push(e, t) {\n    const n = W(e, this.path), { state: r = t } = n.params;\n    this.navigator.push({ ...n, params: { ...n.params, state: r } });\n  }\n  replace(e, t) {\n    const n = W(e, this.path), { state: r = t } = n.params;\n    this.navigator.replace({ ...n, params: { ...n.params, state: r } });\n  }\n  /**\n   * Combines the navigator `base` property with the passed path data applying the navigator\n   * navigation mode.\n   * @param value - path presented as string or URLLike.\n   */\n  renderPath(e) {\n    const t = (this.base.length === 1 ? \"\" : this.base) + I(N(e), \"/\");\n    return this.hashMode ? I(t.slice(1), this.hashMode === \"classic\" ? \"#\" : \"#/\") : t;\n  }\n  /**\n   * Synchronizes current navigator state with browser history.\n   */\n  async syncHistory() {\n    window.removeEventListener(\"popstate\", this.onPopState);\n    const { state: e } = this, t = this.renderPath(this);\n    await Jt(), this.hasPrev && this.hasNext ? (window.history.replaceState(U, \"\"), window.history.pushState(e, \"\", t), window.history.pushState(H, \"\"), await T(-1)) : this.hasPrev ? (window.history.replaceState(U, \"\"), window.history.pushState(e, \"\", t)) : this.hasNext ? (window.history.replaceState(e, t), window.history.pushState(H, \"\"), await T(-1)) : (window.history.replaceState(ie, \"\"), window.history.pushState(e, \"\", t)), window.addEventListener(\"popstate\", this.onPopState);\n  }\n  /**\n   * Current query parameters.\n   * @see URL.search\n   * @example\n   * \"\", \"?\", \"?a=1\"\n   */\n  get search() {\n    return (this.navigator.current.params || {}).search || \"\";\n  }\n  /**\n   * Current history item state.\n   */\n  get state() {\n    return (this.navigator.current.params || {}).state;\n  }\n}\nfunction Qt(s) {\n  s || (s = {});\n  const { href: e, hash: t } = window.location;\n  let n = N(\n    s.hashMode === null ? e : t.includes(\"?\") ? t.slice(1) : `?${t.slice(1)}`\n  );\n  const r = s.base ? Be(s.base) : void 0;\n  if (r) {\n    if (!n.startsWith(r))\n      throw f(\n        Xe,\n        `Path \"${n}\" expected to be starting with \"${r}\"`\n      );\n    n = n.slice(r.length);\n  }\n  return new Le([n], 0, s);\n}\nfunction As(s) {\n  const e = s.match(/#(.+)/);\n  return e ? e[1] : null;\n}\nfunction Yt(s, e) {\n  if (ke()) {\n    const t = sessionStorage.getItem(s);\n    if (t)\n      try {\n        const { index: n, history: r } = JSON.parse(t);\n        return new Le(\n          r,\n          n,\n          e\n        );\n      } catch (n) {\n        console.error(\"Unable to restore hash navigator state.\", n);\n      }\n  }\n  return Qt(e);\n}\nfunction Is(s, e) {\n  const t = Yt(s, e), n = () => sessionStorage.setItem(s, JSON.stringify({\n    index: t.index,\n    history: t.history\n  }));\n  return t.on(\"change\", n), n(), t;\n}\nexport {\n  lt as BackButton,\n  Ft as BasicNavigator,\n  Pt as BiometryManager,\n  Le as BrowserNavigator,\n  Ct as ClosingBehavior,\n  It as CloudStorage,\n  Xe as ERR_INVALID_PATH_BASE,\n  Je as ERR_INVOKE_CUSTOM_METHOD_RESPONSE,\n  ze as ERR_METHOD_PARAMETER_UNSUPPORTED,\n  je as ERR_METHOD_UNSUPPORTED,\n  Ze as ERR_NAVIGATION_HISTORY_EMPTY,\n  Ke as ERR_NAVIGATION_INDEX_INVALID,\n  Xt as ERR_NAVIGATION_ITEM_INVALID,\n  ce as ERR_PARSE,\n  es as ERR_SSR_INIT,\n  Qe as ERR_TIMED_OUT,\n  Ye as ERR_UNEXPECTED_TYPE,\n  Fe as ERR_UNKNOWN_ENV,\n  R as EventEmitter,\n  qt as HapticFeedback,\n  kt as InitData,\n  Nt as Invoice,\n  Vt as MainButton,\n  Bt as MiniApp,\n  $t as Popup,\n  Wt as QRScanner,\n  V as SDKError,\n  Ut as SettingsButton,\n  Ht as SwipeBehavior,\n  Ot as ThemeParams,\n  Gt as Utils,\n  jt as Viewport,\n  At as array,\n  vs as bindMiniAppCSSVars,\n  Es as bindThemeParamsCSSVars,\n  Ss as bindViewportCSSVars,\n  b as boolean,\n  ge as captureSameReq,\n  z as classNames,\n  ot as compareVersions,\n  Qt as createBrowserNavigatorFromLocation,\n  pt as createPostEvent,\n  q as createSafeURL,\n  Ee as date,\n  As as getHash,\n  Be as getPathname,\n  ns as initBackButton,\n  rs as initBiometryManager,\n  is as initClosingBehavior,\n  os as initCloudStorage,\n  as as initHapticFeedback,\n  cs as initInitData,\n  hs as initInvoice,\n  us as initMainButton,\n  ls as initMiniApp,\n  Is as initNavigator,\n  ds as initPopup,\n  _s as initQRScanner,\n  fs as initSettingsButton,\n  gs as initSwipeBehavior,\n  ws as initThemeParams,\n  ms as initUtils,\n  ys as initViewport,\n  Ps as initWeb,\n  C as invokeCustomMethod,\n  ye as isColorDark,\n  _e as isIframe,\n  ke as isPageReload,\n  Q as isRGB,\n  ht as isRGBShort,\n  zt as isSDKError,\n  Rs as isSDKErrorOfType,\n  xs as isSSR,\n  Cs as isTMA,\n  g as json,\n  ss as mergeClassNames,\n  Ts as mockTelegramEnv,\n  y as number,\n  B as off,\n  w as on,\n  ps as parseInitData,\n  X as parseLaunchParams,\n  De as parseThemeParams,\n  A as postEvent,\n  d as request,\n  xt as requestBiometryInfo,\n  bs as requestThemeParams,\n  Me as requestViewport,\n  vt as retrieveLaunchParams,\n  _t as rgb,\n  K as searchParams,\n  yt as serializeLaunchParams,\n  Ie as serializeThemeParams,\n  m as setCSSVar,\n  Kt as setDebug,\n  ts as setTargetOrigin,\n  h as string,\n  He as subscribe,\n  v as supports,\n  ct as targetOrigin,\n  me as toRGB,\n  ae as unsubscribe,\n  N as urlToPath,\n  be as withTimeout\n};\n//# sourceMappingURL=index.js.map\n","import type { ComponentType } from 'react';\n\nimport type { Hook, HookRaw, HookResult } from './createHooks.js';\n\nexport interface HOC<H extends HookRaw<any> | HookResult<any>> {\n  /**\n   * Returns a component which is a HOC, passing some hook result to the wrapped component.\n   * @param propKey - key, which will be used to pass a hook result.\n   * @param ssr - is SSR mode enabled.\n   * @param Component - component to wrap.\n   */<\n    PropKey extends string,\n    SSR extends boolean,\n    Props,\n  >(\n    propKey: PropKey,\n    ssr: SSR,\n    Component: ComponentType<Omit<Props, PropKey> & {\n      [K in PropKey]: ReturnType<Hook<Exclude<ReturnType<H>, undefined>, SSR>>\n    }>,\n  ): ComponentType<Omit<Props, PropKey>>;\n}\n\nexport type HOCs<HRaw extends HookRaw<any>, HResult extends HookResult<any>> = [\n  HOC<HRaw>,\n  HOC<HResult>\n];\n\n/**\n * Based on the passed hook, creates function returning HOC. Created HOC passes hook result\n * to the wrapped component.\n * @param useRaw - hook, returning a raw SDK item.\n * @param useResult - hook, returning an SDK item with the result.\n */\nexport function createHOCs<HRaw extends HookRaw<any>, HResult extends HookResult<any>>(\n  useRaw: HRaw,\n  useResult: HResult,\n): HOCs<HRaw, HResult> {\n  function createHOC<Hook extends HookRaw<any> | HookResult<any>>(hook: Hook): HOC<Hook> {\n    return function HOC(propKey, ssr, Component) {\n      return (props) => {\n        const merged: any = {\n          ...props,\n          [propKey]: hook(ssr as any),\n        };\n\n        return <Component {...merged}/>;\n      };\n    };\n  }\n\n  return [createHOC(useRaw), createHOC(useResult)];\n}\n","import { createContext, useContext } from 'react';\n\nimport type { SDKContextType } from './SDKProvider.types.js';\n\nexport const SDKContext = createContext<SDKContextType | undefined>(undefined);\n\n/**\n * @throws Error useSDK was used outside SDKProvider.\n * @returns SDK context.\n */\nexport function useSDK(): SDKContextType {\n  const context = useContext(SDKContext);\n  if (!context) {\n    throw new Error('useSDK was used outside the SDKProvider.');\n  }\n  return context;\n}\n","import { type CleanupFn, isSSR, type AnyFn, If } from '@telegram-apps/sdk';\nimport { useEffect, useState } from 'react';\n\nimport { useSDK } from './SDKProvider/SDKContext.js';\nimport type { SDKContextItem } from './SDKProvider/SDKProvider.types.js';\n\ntype ExtractResult<T> = T extends [result: infer R, cleanup: CleanupFn]\n  ? ExtractResult<R>\n  : T extends PromiseLike<any>\n    ? Awaited<T> | undefined\n    : T;\n\ntype HookFnResult<Fn extends AnyFn> = ExtractResult<ReturnType<Fn>>;\n\ninterface CompleteHook<Result> extends Hook<Result, true>, Hook<Result, false> {\n}\n\nexport type Hook<Result, SSR extends boolean> = If<\n  SSR,\n  (ssr: true) => Result | undefined,\n  (ssr?: false) => Result\n>;\n\nexport interface HookRaw<Factory extends AnyFn>\n  extends CompleteHook<SDKContextItem<HookFnResult<Factory>>> {\n}\n\nexport interface HookResult<Factory extends AnyFn> extends CompleteHook<HookFnResult<Factory>> {\n}\n\nexport type Hooks<Factory extends AnyFn> = [\n  useRaw: HookRaw<Factory>,\n  useResult: HookResult<Factory>,\n];\n\n/**\n * @returns Hooks, simplifying work process with the SDK components.\n */\nexport function createHooks<Factory extends AnyFn>(factory: Factory): Hooks<Factory> {\n  function useRaw(ssr?: false): SDKContextItem<HookFnResult<Factory>>;\n  function useRaw(ssr: true): SDKContextItem<HookFnResult<Factory>> | undefined;\n  function useRaw(ssr?: boolean): SDKContextItem<HookFnResult<Factory>> | undefined {\n    const sdk = useSDK();\n\n    const [result, setResult] = useState(\n      ssr\n        // If SSR mode is enabled, we have no initial value. In this case we will set something\n        // only in useEffect.\n        ? undefined\n        // Otherwise, we are retrieving this factory result.\n        : () => {\n          if (isSSR()) {\n            throw new Error('Using hooks on the server side, you must explicitly specify ssr = true option');\n          }\n          return sdk.use(factory);\n        },\n    );\n\n    // Each time sdk context changes, we are updating the local value.\n    useEffect(() => {\n      setResult(sdk.use(factory));\n    }, [sdk]);\n\n    return result as SDKContextItem<HookFnResult<Factory>> | undefined;\n  }\n\n  function useResult(ssr?: false): HookFnResult<Factory>;\n  function useResult(ssr: true): HookFnResult<Factory> | undefined;\n  function useResult(ssr?: boolean): HookFnResult<Factory> | undefined {\n    const raw = useRaw(ssr as any);\n    if (!raw) {\n      return;\n    }\n    if ('error' in raw) {\n      throw raw.error;\n    }\n    return raw.result;\n  }\n\n  return [useRaw, useResult];\n}\n","import { initBackButton } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useBackButtonRaw, useBackButton] = createHooks(initBackButton);\n\nexport const [withBackButtonRaw, withBackButton] = createHOCs(\n  useBackButtonRaw,\n  useBackButton,\n);\n","import { initBiometryManager } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useBiometryManagerRaw, useBiometryManager] = createHooks(initBiometryManager);\n\nexport const [withBiometryManagerRaw, withBiometryManager] = createHOCs(\n  useBiometryManagerRaw,\n  useBiometryManager,\n);\n","import { initClosingBehavior } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useClosingBehaviorRaw, useClosingBehavior] = createHooks(initClosingBehavior);\n\nexport const [withClosingBehaviorRaw, withClosingBehavior] = createHOCs(\n  useClosingBehaviorRaw,\n  useClosingBehavior,\n);\n","import { initCloudStorage } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useCloudStorageRaw, useCloudStorage] = createHooks(initCloudStorage);\n\nexport const [withCloudStorageRaw, withCloudStorage] = createHOCs(\n  useCloudStorageRaw,\n  useCloudStorage,\n);\n","import { initHapticFeedback } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useHapticFeedbackRaw, useHapticFeedback] = createHooks(initHapticFeedback);\n\nexport const [withHapticFeedbackRaw, withHapticFeedback] = createHOCs(\n  useHapticFeedbackRaw,\n  useHapticFeedback,\n);\n","import { initInitData } from '@telegram-apps/sdk';\n\nimport { createHooks } from '../createHooks.js';\nimport { createHOCs } from '../createHOCs.js';\n\nexport const [useInitDataRaw, useInitData] = createHooks(initInitData);\n\nexport const [withInitDataRaw, withInitData] = createHOCs(useInitDataRaw, useInitData);\n","import { initInvoice } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useInvoiceRaw, useInvoice] = createHooks(initInvoice);\n\nexport const [withInvoiceRaw, withInvoice] = createHOCs(useInvoiceRaw, useInvoice);\n","import { initMainButton } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useMainButtonRaw, useMainButton] = createHooks(initMainButton);\n\nexport const [withMainButtonRaw, withMainButton] = createHOCs(useMainButtonRaw, useMainButton);\n","import { initMiniApp } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useMiniAppRaw, useMiniApp] = createHooks(initMiniApp);\n\nexport const [withMiniAppRaw, withMiniApp] = createHOCs(useMiniAppRaw, useMiniApp);\n","import { initPopup } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [usePopupRaw, usePopup] = createHooks(initPopup);\n\nexport const [withPopupRaw, withPopup] = createHOCs(usePopupRaw, usePopup);\n","import { initQRScanner } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useQRScannerRaw, useQRScanner] = createHooks(initQRScanner);\n\nexport const [withQRScannerRaw, withQRScanner] = createHOCs(useQRScannerRaw, useQRScanner);\n","import { initSettingsButton } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useSettingsButtonRaw, useSettingsButton] = createHooks(initSettingsButton);\n\nexport const [withSettingsButtonRaw, withSettingsButton] = createHOCs(\n  useSettingsButtonRaw,\n  useSettingsButton,\n);\n","import { initSwipeBehavior } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useSwipeBehaviorRaw, useSwipeBehavior] = createHooks(initSwipeBehavior);\n\nexport const [withSwipeBehaviorRaw, withSwipeBehavior] = createHOCs(\n  useSwipeBehaviorRaw,\n  useSwipeBehavior,\n);\n","import { initThemeParams } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useThemeParamsRaw, useThemeParams] = createHooks(initThemeParams);\n\nexport const [withThemeParamsRaw, withThemeParams] = createHOCs(useThemeParamsRaw, useThemeParams);\n","import { useEffect, useState } from 'react';\nimport { type LaunchParams, retrieveLaunchParams } from '@telegram-apps/sdk';\n\n/**\n * @returns Launch parameters.\n */\nexport function useLaunchParams(ssr: true): LaunchParams | undefined;\n\n/**\n * @returns Launch parameters.\n */\nexport function useLaunchParams(ssr?: false): LaunchParams;\n\nexport function useLaunchParams(ssr?: boolean): LaunchParams | undefined {\n  const [lp, setLp] = useState<LaunchParams | undefined>(() => {\n    return ssr ? undefined : retrieveLaunchParams();\n  });\n\n  useEffect(() => {\n    if (ssr) {\n      setLp(retrieveLaunchParams());\n    }\n  }, []);\n\n  return lp;\n}","import { initUtils } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useUtilsRaw, useUtils] = createHooks(initUtils);\n\nexport const [withUtilsRaw, withUtils] = createHOCs(useUtilsRaw, useUtils);\n","import { initViewport } from '@telegram-apps/sdk';\n\nimport { createHOCs } from '../createHOCs.js';\nimport { createHooks } from '../createHooks.js';\n\nexport const [useViewportRaw, useViewport] = createHooks(initViewport);\n\nexport const [withViewportRaw, withViewport] = createHOCs(useViewportRaw, useViewport);\n","import { CleanupFn, initWeb, isIframe, setDebug } from '@telegram-apps/sdk';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport type { AnyFn } from '@telegram-apps/sdk';\n\nimport { SDKContext } from './SDKContext.js';\nimport {\n  SDKContextType,\n  SDKProviderProps,\n  SDKContextItem,\n} from './SDKProvider.types.js';\n\n/**\n * Provides access to the SDK components and initializes some event listeners for the web version\n * of Telegram.\n */\nexport function SDKProvider({ children, acceptCustomStyles, debug }: SDKProviderProps) {\n  // We need it to safely call state setters as long as React forbids these\n  // operations on unmounted components.\n  const isMountedRef = useRef(true);\n\n  // Map, containing all registered factories results.\n  const [cache, setCache] = useState(new Map<AnyFn, SDKContextItem<any>>());\n  const cacheRef = useRef(cache);\n\n  // Safely mutates cache with specified function.\n  const mutateCache = useCallback(\n    (mutate?: (state: Map<AnyFn, SDKContextItem<any>>) => void) => {\n      if (isMountedRef.current) {\n        setCache(c => {\n          mutate && mutate(c);\n          return new Map(c);\n        });\n      }\n    }, [],\n  );\n\n  const context = useMemo<SDKContextType>(() => ({\n    use(factory, ...args) {\n      // Try to get a cached value.\n      const cached = cache.get(factory);\n      if (cached) {\n        return cached;\n      }\n\n      // Call factory and retrieve result.\n      let result: any;\n      let error: any;\n      try {\n        result = factory(...args);\n      } catch (err) {\n        error = err;\n      }\n\n      function withCacheSet(item: SDKContextItem<any>): SDKContextItem<any> {\n        cache.set(factory, item);\n        return item;\n      }\n\n      // If an error occurred, return it.\n      if (error) {\n        return withCacheSet({ error });\n      }\n\n      // Result may represent a tuple, where a result is placed on the first place, and\n      // a cleanup function on the second one.\n      let cleanup: CleanupFn | undefined;\n      if (Array.isArray(result)) {\n        cleanup = result[1];\n        result = result[0];\n      }\n\n      // We may have a case, when result is empty (most likely undefined), for example, when\n      // we initialize InitData. In this case we just return the result.\n      if (!result) {\n        return withCacheSet({ result, cleanup });\n      }\n\n      // Adds change event listener to the value if required, and adds bound listener to the\n      // cleanup function.\n      function finalize(v: any): SDKContextItem<any> {\n        if ('on' in v) {\n          // Forcefully refresh cache in case, something in this value changed.\n          const off = v.on('change', () => mutateCache());\n          const cleanupOriginal = cleanup;\n          cleanup = () => {\n            cleanupOriginal && cleanupOriginal();\n            off();\n          };\n        }\n        return { result: v, cleanup };\n      }\n\n      if (result instanceof Promise) {\n        result.then(\n          (value: any) => mutateCache(c => c.set(factory, finalize(value))),\n          (error: any) => mutateCache(c => c.set(factory, { error })),\n        );\n        return withCacheSet({});\n      }\n      return withCacheSet(finalize(result));\n    },\n  }), [cache]);\n\n  // Effect, responsible for changing mount state.\n  useEffect(() => {\n    // An idiotic line for React's StrictMode.\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  // Effect, responsible for initializing the app in the web version of Telegram.\n  useEffect(() => {\n    if (isIframe()) {\n      return initWeb(acceptCustomStyles);\n    }\n  }, [acceptCustomStyles]);\n\n  // Effect, responsible for debug mode.\n  useEffect(() => {\n    setDebug(debug || false);\n  }, [debug]);\n\n  // Every time cache changes, we should actualize the ref to it. It is used in the next\n  // effect.\n  useEffect(() => {\n    cacheRef.current = cache;\n  }, [cache]);\n\n  // Effect, responsible for removing all components \"change\" listeners.\n  useEffect(() => {\n    return () => {\n      cacheRef.current.forEach(v => {\n        'cleanup' in v && v.cleanup && v.cleanup();\n      });\n    };\n  }, []);\n\n  return <SDKContext.Provider value={context}>{children}</SDKContext.Provider>;\n}\n"],"names":["We","Ue","s","e","t","oe","ae","M","it","He","Oe","F","O","se","Kt","Ge","R","r","i","G","J","V","f","je","ze","Fe","Je","Qe","Ye","ce","Ze","Ke","Xt","es","Xe","E","D","S","b","pe","he","g","y","h","ue","et","j","tt","st","nt","p","rt","B","w","k","ot","_","v","le","de","_e","at","fe","ts","ct","A","pt","ge","we","be","d","C","z","ss","Q","ht","me","ye","ut","o","Y","ve","Z","n","lt","Ee","K","dt","ne","Se","_t","ft","gt","Pe","X","xe","wt","Ce","bt","Te","Re","Ae","mt","Ie","yt","qe","vt","ke","Et","St","u","$e","ns","P","Ne","Pt","xt","rs","ee","Ct","is","te","Tt","Rt","At","re","It","os","qt","as","kt","cs","ps","Nt","hs","Vt","us","Dt","Ve","Mt","Bt","a","ls","Lt","$t","ds","Wt","_s","Ut","fs","Ht","gs","De","Ot","ws","bs","I","q","Gt","ms","Me","x","jt","ys","m","vs","Es","Ss","Ps","xs","Cs","Ts","zt","Rs","L","Ft","$","N","W","T","Jt","Be","ie","U","H","Le","Qt","As","Yt","Is","createHOCs","useRaw","useResult","createHOC","hook","propKey","ssr","Component","props","merged","jsx","SDKContext","createContext","useSDK","context","useContext","createHooks","factory","sdk","result","setResult","useState","isSSR","useEffect","raw","useBackButtonRaw","useBackButton","initBackButton","withBackButtonRaw","withBackButton","useBiometryManagerRaw","useBiometryManager","initBiometryManager","withBiometryManagerRaw","withBiometryManager","useClosingBehaviorRaw","useClosingBehavior","initClosingBehavior","withClosingBehaviorRaw","withClosingBehavior","useCloudStorageRaw","useCloudStorage","initCloudStorage","withCloudStorageRaw","withCloudStorage","useHapticFeedbackRaw","useHapticFeedback","initHapticFeedback","withHapticFeedbackRaw","withHapticFeedback","useInitDataRaw","useInitData","initInitData","withInitDataRaw","withInitData","useInvoiceRaw","useInvoice","initInvoice","withInvoiceRaw","withInvoice","useMainButtonRaw","useMainButton","initMainButton","withMainButtonRaw","withMainButton","useMiniAppRaw","useMiniApp","initMiniApp","withMiniAppRaw","withMiniApp","usePopupRaw","usePopup","initPopup","withPopupRaw","withPopup","useQRScannerRaw","useQRScanner","initQRScanner","withQRScannerRaw","withQRScanner","useSettingsButtonRaw","useSettingsButton","initSettingsButton","withSettingsButtonRaw","withSettingsButton","useSwipeBehaviorRaw","useSwipeBehavior","initSwipeBehavior","withSwipeBehaviorRaw","withSwipeBehavior","useThemeParamsRaw","useThemeParams","initThemeParams","withThemeParamsRaw","withThemeParams","useLaunchParams","lp","setLp","retrieveLaunchParams","useUtilsRaw","useUtils","initUtils","withUtilsRaw","withUtils","useViewportRaw","useViewport","initViewport","withViewportRaw","withViewport","SDKProvider","children","acceptCustomStyles","debug","isMountedRef","useRef","cache","setCache","cacheRef","mutateCache","useCallback","mutate","c","useMemo","args","cached","error","err","withCacheSet","item","cleanup","finalize","off","cleanupOriginal","value","isIframe","initWeb","setDebug"],"mappings":"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"}